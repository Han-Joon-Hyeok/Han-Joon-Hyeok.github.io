<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.3.0" /><meta property="og:title" content="git reset, revert 비교 및 사용법 정리" /><meta name="author" content="Joon Hyeok Han" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="생활코딩 - 지옥에서 온 Git을 공부하며 정리한 내용입니다." /><meta property="og:description" content="생활코딩 - 지옥에서 온 Git을 공부하며 정리한 내용입니다." /><link rel="canonical" href="https://han-joon-hyeok.github.io/posts/git-reset-revert/" /><meta property="og:url" content="https://han-joon-hyeok.github.io/posts/git-reset-revert/" /><meta property="og:site_name" content="Dev Joon" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-01-25T22:53:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="git reset, revert 비교 및 사용법 정리" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@Joon Hyeok Han" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Joon Hyeok Han"},"dateModified":"2023-11-02T00:06:02+09:00","datePublished":"2021-01-25T22:53:00+09:00","description":"생활코딩 - 지옥에서 온 Git을 공부하며 정리한 내용입니다.","headline":"git reset, revert 비교 및 사용법 정리","mainEntityOfPage":{"@type":"WebPage","@id":"https://han-joon-hyeok.github.io/posts/git-reset-revert/"},"url":"https://han-joon-hyeok.github.io/posts/git-reset-revert/"}</script><title>git reset, revert 비교 및 사용법 정리 | Dev Joon</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-SKST7KNWSJ"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-SKST7KNWSJ'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/profile.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Dev Joon</a></div><div class="site-subtitle font-italic">성장하는 개발자, 한준혁입니다.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/Han-Joon-Hyeok" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['joonhyeok.han','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>git reset, revert 비교 및 사용법 정리</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>git reset, revert 비교 및 사용법 정리</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Jan 25, 2021, 10:53 PM +0900" > Jan 25, 2021 <i class="unloaded">2021-01-25T22:53:00+09:00</i> </span> by <span class="author"> Joon Hyeok Han </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Thu, Nov 2, 2023, 12:06 AM +0900" > Nov 2, 2023 <i class="unloaded">2023-11-02T00:06:02+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2090 words">11 min</span></div></div><div class="post-content"><blockquote><p><a href="https://opentutorials.org/course/2708">생활코딩 - 지옥에서 온 Git</a>을 공부하며 정리한 내용입니다.</p></blockquote><h1 id="git-reset-git-revert--과거로-돌아가기">git reset, git revert : 과거로 돌아가기</h1><p><code class="language-plaintext highlighter-rouge">git reset</code>과 <code class="language-plaintext highlighter-rouge">git revert</code>는 특정 시점 commit으로 되돌리고 싶을 때 사용하는 명령어이다.</p><ul><li><code class="language-plaintext highlighter-rouge">git reset</code> : 커밋 내역들을 삭제하고, 특정 시점의 커밋으로 되돌아감. 시계를 다시 맞추는 것.<li><code class="language-plaintext highlighter-rouge">git revert</code> : 이전 커밋 내역들은 그대로 두고, 되돌리고 싶은 커밋의 코드만 복원시킨다.</ul><p>이 개념을 쉽게 Devpools의 이리온님께서 설명해주셨는데, 다음의 링크를 참고하면 도움이 될 것이다.</p><ul><li><a href="http://www.devpools.kr/2017/01/31/%EA%B0%9C%EB%B0%9C%EB%B0%94%EB%B3%B4%EB%93%A4-1%ED%99%94-git-back-to-the-future/">개발바보들 1화 - git “Back to the Future”</a></ul><h1 id="1-git-reset">1. git reset</h1><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_reset(1).png" alt="git reset(1)" /></p><p>위의 사진에서 <code class="language-plaintext highlighter-rouge">second commit</code>을 실행한 시점으로 돌아가고 싶고, 3~4번째 커밋을 삭제하고 싶다면 다음과 같은 명령어를 실행한다.</p><p><code class="language-plaintext highlighter-rouge">$ git reset 되돌리고 싶은 커밋의 코드 --옵션</code></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_reset(2).png" alt="git reset(2)" /></p><p>그러면 3~4번째 커밋 내역은 삭제되고, 2번째 커밋 시점으로 되돌아가게 된다.</p><p>하지만 커밋 내역을 삭제했다는 것은 해당 파일들을 삭제했다는 것은 아니다. 당연히 reset을 잘못 수행했을 경우도 있기 때문에 이를 취소하는 방법도 존재한다. 우리 눈에 보이지 않을 뿐, 해당 버전에 대한 파일은 존재하고 있다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_reset(3).png" alt="git reset(3)" /></p><p>주의할 점은, <strong>reset은 가능하면 로컬 저장소에서만 실행</strong>이 되어야 한다는 것이다. github와 같은 원격 저장소에 올라간 뒤에 reset을 실행하면 이전 커밋 내역들이 전부 삭제된다. 만약 다른 사람들과 함께 작업을 하고 있었고, 팀원들이 원격 저장소의 커밋을 되돌린 사실을 몰랐다면, 되돌렸던 커밋들이 다시 원격 저장소에 추가된다. 그래서 위의 그림과 같은 상황이 발생하지 않으려면 미리 공지를 하거나, 가급적이면 <code class="language-plaintext highlighter-rouge">git revert</code>를 사용하는 것이 안전하다.</p><h2 id="옵션">옵션</h2><p>옵션에는 여러 가지가 있는데, 그 중에서 자주 사용하는 것은 hard, mixed, soft가 있다.</p><p>우선 git 명령어들의 영향 범위를 그림으로 표현하면 다음과 같다.</p><div class="img-container"> <img class="post-img" src="/assets/images/2021/2021-01-25-git-reset-revert/git_movement.png" /><p class="post-img-caption">출처 : <a href="https://velog.io/@sonypark/git-reset-vs-git-revert-%EC%B0%A8%EC%9D%B4"> https://velog.io/@sonypark/git-reset-vs-git-revert-차이 </a></p></div><p>현재 항목에서는 다음과 같은 커밋을 진행하였다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_commit_내역.png" alt="git_commit_내역" /></p><h3 id="1-hard">1. hard</h3><p>돌아가려는 이력 이후의 모든 내용을 지우고 모든 상태를 초기화한다.</p><p>commit된 파일들 중 <strong>tracked 파일들을 working directory</strong>(로컬 저장소)에서 삭제한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_reset_hard(1).png" alt="git reset --hard" /></p><p><code class="language-plaintext highlighter-rouge">git status</code>로 현재 스테이지 영역을 확인해보면, <code class="language-plaintext highlighter-rouge">Second commit</code> 이후의 어떠한 파일도 스테이지 영역에 올라와있지 않은 것을 확인할 수 있다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_reset_hard(2).png" alt="git reset --hard" /></p><p>초록색으로 표시된 영역까지 현재 로컬 저장소에 남아있고, 이력 또한 <code class="language-plaintext highlighter-rouge">Second commit</code>이후의 내역은 삭제되었다.</p><h3 id="2-soft">2. soft</h3><p>돌아가려 했던 이력으로 되돌아 갔지만, 이후의 내용이 지워지지 않으며, 해당 내용의 인덱스(또는 스테이지)도 그대로 존재한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_reset_soft(1).png" alt="git reset --soft(1)" /></p><p>로컬 저장소의 파일은 삭제되지 않은 채로 스테이지 영역에 파일이 올라와있는 상태이다. 즉, <code class="language-plaintext highlighter-rouge">git add</code>가 실행된 직후의 되돌아가고, 바로 commit을 수행할 수 있는 상태가 되는 것이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_reset_soft(2).png" alt="git reset --soft(2)" /></p><p><code class="language-plaintext highlighter-rouge">Second commit</code>을 기준으로 했을 때,</p><ul><li><code class="language-plaintext highlighter-rouge">test3.txt</code>는 새롭게 생성된 파일이기 때문에 <code class="language-plaintext highlighter-rouge">tracked</code>로 변경되었다.<li><code class="language-plaintext highlighter-rouge">test1.txt</code>는 기존 파일에서 내용이 추가되었기 때문에 <code class="language-plaintext highlighter-rouge">modified</code>로 변경되었다.</ul><h3 id="3-mixed-옵션을-적지-않으면-기본값으로-동작">3. mixed (옵션을 적지 않으면 기본값으로 동작)</h3><p>이력은 되돌려지지만, 스테이지는 초기화된다. 즉, <code class="language-plaintext highlighter-rouge">git add</code>가 실행되기 이전의 상태로 돌아가는 것이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_reset_mixed(1).png" alt="git reset --mixed(1)" /></p><p><code class="language-plaintext highlighter-rouge">soft</code>방식과 비슷하게 <code class="language-plaintext highlighter-rouge">test1.txt</code>파일과 <code class="language-plaintext highlighter-rouge">test3.txt</code>파일은 로컬 저장소에 되어있지만, <code class="language-plaintext highlighter-rouge">git add</code>를 실행하기 이전의 상태이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_reset_mixed(2).png" alt="git reset --mixed(2)" /></p><h2 id="git-reset-취소하기">git reset 취소하기</h2><p><code class="language-plaintext highlighter-rouge">git reflog</code>를 입력하면 다음의 사진과 같이 변경 내역을 볼 수 있다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_reset_cancel(1).png" alt="git reset cancel(1)" /></p><p>되돌아가고 싶은 HEAD를 확인하고, 만약 <code class="language-plaintext highlighter-rouge">HEAD@{2} 'fourth commit'</code>로 이동하고 싶다면 다음과 같이 입력한다.</p><p><code class="language-plaintext highlighter-rouge">git reset --hard HEAD@{2}</code></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_reset_cancel(2).png" alt="git reset cancel(2)" /></p><p>그러면 reset을 정상적으로 취소하고, 원하는 상태로 되돌아올 수 있다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_reset_cancel(3).png" alt="git reset cancel(3)" /></p><h1 id="2-git-revert">2. git revert</h1><p>1번에서 다룬 <code class="language-plaintext highlighter-rouge">reset</code>의 근본적인 문제점은 팀원들과 공유하는 원격 저장소의 커밋 내역을 강제로 조작한다는 것이었다.</p><p>그래서 <code class="language-plaintext highlighter-rouge">git revert</code>를 사용하면 커밋 내역을 전부 삭제하는 것이 아닌 <code class="language-plaintext highlighter-rouge">revert</code> 커밋 자체를 커밋 내역에 쌓는 방식으로 사용하면 앞선 문제점을 해결할 수 있다. 다시 말해서, <strong>특정 커밋을 되돌리는 작업도 하나의 커밋으로 간주</strong>하여 커밋 내역에 추가하므로, 내가 되돌린 작업을 다른 팀원들과 공유할 수 있게 된다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_revert(1).png" alt="git revert(1)" /></p><h2 id="방법">방법</h2><p><code class="language-plaintext highlighter-rouge">$ git revert 되돌리고 싶은 commit의 hash</code>는 특정 커밋에서 변경 사항을 제거하고, 새로운 커밋을 생성하는 명령어이다.</p><p><em>Commit A -&gt; Commit B -&gt; Commit C</em>의 순서로 커밋 내역이 쌓이는 것을 생각해보면, 이를 다시 원래대로 돌리기 위해서는 <em>Commit C -&gt; Commit B -&gt; Commit A</em> 거꾸로 revert를 실행하면 된다.(“실행취소”기능과 비슷하다)</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_revert(2).png" alt="git revert(2)" /></p><p>위의 그림에서는 가장 최근의 커밋인 <code class="language-plaintext highlighter-rouge">fourth commit</code>으로 되돌렸고, 기존의 커밋들은 남은 채 새로운 커밋이 쌓인 것을 확인할 수 있다. 파일 상태는 다음과 같이 정리할 수 있다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_revert(3).png" alt="git revert(3)" /></p><p>만약 <code class="language-plaintext highlighter-rouge">second commit</code>까지 되돌리고 싶은 경우에는 <code class="language-plaintext highlighter-rouge">..</code>으로 범위를 주어 <code class="language-plaintext highlighter-rouge">commit2..commit4</code>과 같이 입력하면 된다.</p><p><code class="language-plaintext highlighter-rouge">$ git revert commit2_hash..commit4_hash</code></p><p>즉, 아래와 같이 정리할 수 있다.</p><blockquote><p>git revert <code class="language-plaintext highlighter-rouge">되돌아갈 커밋</code>..<code class="language-plaintext highlighter-rouge">되돌리기 시작할 최근 커밋</code></p></blockquote><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_revert(4).png" alt="git revert(4)" /></p><h2 id="--no-commit-옵션-사용하기"><code class="language-plaintext highlighter-rouge">--no-commit</code> 옵션 사용하기</h2><p>하지만 여러 커밋을 되돌리는 경우에는 각 revert마다 커밋 메세지를 작성해야 하는 번거로움이 생긴다. 이때, <code class="language-plaintext highlighter-rouge">--no-commit</code> 옵션을 이용하면 revert를 위한 커밋을 하나만 생성할 수 있다.</p><p>그리고 커밋의 hash가 아닌 <code class="language-plaintext highlighter-rouge">되돌리고 싶은 커밋의 범위</code>를 인수로 입력해주면 된다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_revert_no_commit(1).png" alt="git no-commit(1)" /></p><p><code class="language-plaintext highlighter-rouge">$ git revert --no-commit HEAD~2..</code></p><p><code class="language-plaintext highlighter-rouge">HEAD~2..</code>는 최근 2개 커밋을 의미한다. 현재 commit 4를 마친 상태에 있으므로, commit 4와 commit 3을 취소하게 되는 것이다.</p><p><code class="language-plaintext highlighter-rouge">--no-commit</code>을 사용하면 복수의 revert에 대해서 각각 커밋 메세지를 남기는 대신, 하나의 커밋 메세지만 남기도록 한다. 따라서 <code class="language-plaintext highlighter-rouge">git add</code>를 완료한 상태로 되돌아가게 되며, 아래와 같이 별도의 커밋 메세지를 남겨야 한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_revert_no_commit(2).png" alt="git no-commit(2)" /></p><p>위와 같이 정상적으로 여러 커밋에 대한 revert도 하나의 커밋 메세지로 처리할 수 있게 된다.</p><h1 id="3-git-reset과-git-revert의-차이는">3. git reset과 git revert의 차이는?</h1><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2021/2021-01-25-git-reset-revert/git_reset_revert_compare.png" alt="Difference between Reset and Revert" /></p><ul><li><code class="language-plaintext highlighter-rouge">git reset</code><ul><li>과거 커밋 내역을 삭제한다.<li>과거 커밋으로 되돌아간다는 커밋 메세지를 남기지 않는다.<li>주로 로컬 저장소에서 작업할 때 사용할 수 있다. (push를 하기 이전)</ul><li><code class="language-plaintext highlighter-rouge">git revert</code><ul><li>과거 커밋 내역을 유지한다.<li>과거 커밋으로 되돌아간다는 커밋 메세지를 남길 수 있다.<li>주로 원격 저장소에 이미 push를 했을 때 사용한다.</ul></ul><h1 id="참고자료">참고자료</h1><ul><li><a href="https://medium.com/nonamedeveloper/%EC%B4%88%EB%B3%B4%EC%9A%A9-git-%EB%90%98%EB%8F%8C%EB%A6%AC%EA%B8%B0-reset-revert-d572b4cb0bd5">https://medium.com/nonamedeveloper/[초보용]-Git-되돌리기-reset-revert</a><li><a href="https://velog.io/@sonypark/git-reset-vs-git-revert-%EC%B0%A8%EC%9D%B4">https://velog.io/@sonypark/git-reset-vs-git-revert-차이</a><li><a href="https://88240.tistory.com/284">[Git] reset 한거 취소하는 방법</a><li><a href="https://jupiny.com/2019/03/19/revert-commits-in-remote-repository/">https://jupiny.com/2019/03/19/revert-commits-in-remote-repository/</a><li><a href="https://github.com/HomoEfficio/dev-tips/blob/master/Git%20reverting%20multiple-commits.md">https://github.com/HomoEfficio/dev-tips/blob/master/Git%20reverting%20multiple-commits.md</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/git/'>git</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/git/" class="post-tag no-text-decoration">git</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=git reset, revert 비교 및 사용법 정리 - Dev Joon&url=https://han-joon-hyeok.github.io/posts/git-reset-revert/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=git reset, revert 비교 및 사용법 정리 - Dev Joon&u=https://han-joon-hyeok.github.io/posts/git-reset-revert/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=git reset, revert 비교 및 사용법 정리 - Dev Joon&url=https://han-joon-hyeok.github.io/posts/git-reset-revert/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/c-bitwise-operation-between-different-integer-sizes/">[C언어] 자료형 크기 차이로 인한 비트 연산 오류 해결 방법</a><li><a href="/posts/connect-to-ec2-without-ssh-key-using-session-manager/">[AWS] EC2 인스턴스 ssh 키 없이 터미널 접속하는 방법 (AWS Session Manager)</a><li><a href="/posts/how-to-access-geo-restricted-websites-using-mullvad-vpn/">국가 제한이 걸린 사이트에 접속하는 방법 (feat. Mullvad VPN)</a><li><a href="/posts/network-overview/">네트워크 LAN, WAN / 스위치, 라우터 / IP 주소 / 서브넷 개념 정리</a><li><a href="/posts/what-is-nat/">NAT란?</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/level2/">level2</a> <a class="post-tag" href="/tags/level1/">level1</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/pipex/">pipex</a> <a class="post-tag" href="/tags/born2beroot/">born2beroot</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/data-structure/">Data Structure</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/git-commit-convention/"><div class="card-body"> <span class="timeago small" > Nov 2, 2023 <i class="unloaded">2023-11-02T09:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Git Commit Convention</h3><div class="text-muted small"><p> Commit Convention Udacity Git Commit Message Style Guide 를 참고하여 아래와 같은 규칙으로 사용합니다. 메세지 구조 커밋 메세지는 크게 제목, 본문, 꼬리말 3가지 파트로 나눕니다. 각 파트는 빈 줄을 두어 구분합니다. 1 2 3 4 5 **tag**(옵션): **Subject** [#issue_n...</p></div></div></a></div><div class="card"> <a href="/posts/what-is-git/"><div class="card-body"> <span class="timeago small" > Jan 23, 2021 <i class="unloaded">2021-01-23T09:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Git에 대해 간단히 알아보자</h3><div class="text-muted small"><p> 생활코딩 - 지옥에서 온 Git을 공부하며 정리한 내용입니다. Git이란? Git은 Version Control System(VCS)의 한 종류이다. 버전 관리 시스템은 특정 시점의 파일 내부 내용의 상태를 저장하여 복원을 하거나 오류를 수정하는 기능을 수행한다. 또한, 다른 사람들과 파일 공유를 하며 작업이 가능하므로 효율적인 협업을 도와...</p></div></div></a></div><div class="card"> <a href="/posts/git-basic-commands/"><div class="card-body"> <span class="timeago small" > Jan 24, 2021 <i class="unloaded">2021-01-24T09:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>git 기초 명령어 사용법에 대해 알아보자(git init, git add, git commit)</h3><div class="text-muted small"><p> 생활코딩 - 지옥에서 온 Git을 공부하며 정리한 내용입니다. git을 이용해서 버전관리를 시작해보자. git에서 주로 사용되는 명령어들 중에서 이번 포스팅에서는 다음의 내용들을 다루어보고자 한다. 1. git init : 저장소 만들기 2. git add : git이 관리할 대상으로 파일 등록 사용법 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/git-basic-commands/" class="btn btn-outline-primary" prompt="Older"><p>git 기초 명령어 사용법에 대해 알아보자(git init, git add, git commit)</p></a> <a href="/posts/how-to-build-jekyll-blog/" class="btn btn-outline-primary" prompt="Newer"><p>github.io에 Jekyll Theme(Chirpy)를 적용해보자</p></a></div><script src="https://utteranc.es/client.js" repo="Han-Joon-Hyeok/Han-Joon-Hyeok.github.io" issue-term="pathname" label="Comments" theme="preferred-color-scheme" crossorigin="anonymous" async> </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/han-joon-hyeok">Joon Hyeok Han</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/level2/">level2</a> <a class="post-tag" href="/tags/level1/">level1</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/pipex/">pipex</a> <a class="post-tag" href="/tags/born2beroot/">born2beroot</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/data-structure/">Data Structure</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://han-joon-hyeok.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
