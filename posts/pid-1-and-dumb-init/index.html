<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.3.0" /><meta property="og:title" content="PID 1 과 dumb-init (feat. PID 0)" /><meta name="author" content="Joon Hyeok Han" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="PID 1" /><meta property="og:description" content="PID 1" /><link rel="canonical" href="https://han-joon-hyeok.github.io/posts/pid-1-and-dumb-init/" /><meta property="og:url" content="https://han-joon-hyeok.github.io/posts/pid-1-and-dumb-init/" /><meta property="og:site_name" content="Dev Joon" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-04-27T09:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="PID 1 과 dumb-init (feat. PID 0)" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@Joon Hyeok Han" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Joon Hyeok Han"},"dateModified":"2023-04-27T09:00:00+09:00","datePublished":"2023-04-27T09:00:00+09:00","description":"PID 1","headline":"PID 1 과 dumb-init (feat. PID 0)","mainEntityOfPage":{"@type":"WebPage","@id":"https://han-joon-hyeok.github.io/posts/pid-1-and-dumb-init/"},"url":"https://han-joon-hyeok.github.io/posts/pid-1-and-dumb-init/"}</script><title>PID 1 과 dumb-init (feat. PID 0) | Dev Joon</title><link rel="shortcut icon" href="/assets/images/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/images/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/images/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/images/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/images/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/images/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/images/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/images/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/images/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/images/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/images/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/images/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/images/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/images/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/images/favicons/manifest.json"><meta name='msapplication-config' content='/assets/images/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/images/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-SKST7KNWSJ"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-SKST7KNWSJ'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/images/profile.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Dev Joon</a></div><div class="site-subtitle font-italic">성장하는 개발자, 한준혁입니다.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/Han-Joon-Hyeok" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://www.linkedin.com/in/" aria-label="linkedin" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['joonhyeok.han','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>PID 1 과 dumb-init (feat. PID 0)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>PID 1 과 dumb-init (feat. PID 0)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Apr 27, 2023, 9:00 AM +0900" > Apr 27, 2023 <i class="unloaded">2023-04-27T09:00:00+09:00</i> </span> by <span class="author"> Joon Hyeok Han </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2267 words">12 min</span></div></div><div class="post-content"><h1 id="pid-1">PID 1</h1><p>리눅스의 시그널은 Docker 컨테이너 내부의 프로세스 생명 주기를 제어하는 방법이다.</p><p>그래서 Docker 와 kubernetes(이하 k8s) 는 시그널을 사용해서 컨테이너 내부의 프로세스와 통신하고, 컨테이너를 종료하기 위해 사용한다.</p><p>Docker 와 k8s 는 컨테이너 내부에 PID 1 이 있는 프로세스에만 신호를 보낼 수 있다.</p><h2 id="pid-1-어떤-프로세스인가">PID 1, 어떤 프로세스인가?</h2><p>PID 1 은 시스템을 시작하고 종료하거나, 시스템 시작과 관련한 스크립트를 실행하거나, 시스템 초기화 작업을 처리하는 init 프로세스이다.</p><p>PID 1 은 시스템에서 실행되고 있는 모든 프로세스들의 부모 프로세스이다.</p><p>Ubuntu 22.04 환경에서 프로세스와 부모 프로세스 번호(PID), 부모 프로세스의 PID(PPID) 를 출력해보면 아래와 같다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nv">$ </span>ps <span class="nt">-elf</span>  | <span class="nb">head</span> <span class="nt">-5</span>
F S UID          PID    PPID  C PRI  NI ADDR SZ WCHAN  STIME TTY          TIME CMD
4 S root           1       0  0  80   0 - 41785 -      Apr26 ?        00:00:06 /sbin/init
1 S root           2       0  0  80   0 -     0 -      Apr26 ?        00:00:00 <span class="o">[</span>kthreadd]
1 I root           3       2  0  60 <span class="nt">-20</span> -     0 -      Apr26 ?        00:00:00 <span class="o">[</span>rcu_gp]
1 I root           4       2  0  60 <span class="nt">-20</span> -     0 -      Apr26 ?        00:00:00 <span class="o">[</span>rcu_par_gp]
</pre></table></code></div></div><p>PID 1 에는 <code class="language-plaintext highlighter-rouge">init</code> 이라는 프로그램이 할당되어 실행되고 있는 것을 확인할 수 있다.</p><p>여기서 하나만 더 짚고 넘어갈 부분이 있다. PID 1 의 PPID 에는 0 이 할당되어 있는데, PID 0 은 어떤 프로세스이고, 어떤 역할을 하는 걸까?</p><h2 id="pid-0">PID 0</h2><p>PID 0 은 sched(schedule) 또는 swapper 라 불리는 프로세스이다.</p><p>이는 사용자 모드로 실행되는 프로세스가 아닌 커널의 일부이다.</p><p>유닉스 시스템에서 실행되는 모든 프로세스는 시간에 따라 다른 상태를 가지고 있는다. 프로세스가 생성 되는 상태, CPU를 점유하면서 실행되는 상태, 할 일 없이 사용자의 입력을 기다리며 잠들어 있는 상태 등이 있다.</p><p>swapper 프로세스는 바로 “잠들어” 있는 프로세스를 메모리에서 내려서 디스크 공간에 잠시 swap 했다가, 그 프로세스가 깨어나야 하는 시기가 오면 디스크의 프로세스를 다시 메모리로 적재해주는 등의 일을 한다.</p><p>swapper 는 부팅과 동시에 별도로 실행되기 때문에 부모 프로세스가 존재하지 않는다. 그래서 swapper 는 프로세스 보다는 운영체제에 가깝다고 할 수 있다.</p><h2 id="init-프로세스의-역할">init 프로세스의 역할</h2><p>PID 0 다음으로 실행되는 프로세스가 PID 1 인 init 프로세스이다.</p><p>PID 1 은 부팅 시 커널에 의해 최초로 실행되는 프로세스이다. init 프로세스는 SSH 데몬, Docker 데몬, Apache/Nginx 데몬과 같은 시스템의 시작을 담당한다.</p><p>init 프로세스는 모든 프로세스의 직/간접적인 부모 프로세스이다. 그래서 어떤 프로세스의 자식 프로세스들이 고아 상태가 되면 init 프로세스가 고아 상태가 된 자식 프로세스들을 자식으로 입양하고, 정상적으로 종료시킨다.</p><p>그리고 PID 1 은 init 프로세스 관리를 위한 프로세스로 실행되다보니 Linux 에서는 기본적으로 PID 1 은 <code class="language-plaintext highlighter-rouge">SIGINT</code> 나 <code class="language-plaintext highlighter-rouge">SIGTERM</code> 과 같은 시그널을 기본적으로 무시하도록 되어있다. PID 1 프로세스가 종료되면 다른 프로세스들도 함께 종료될 수 있기 때문에 시그널을 무시하는 것이다. 그래서 기본적으로 PID 1 에 전달되는 시그널과 자식 프로세스들에게 보내는 시그널은 모두 무시된다.</p><p>만약, PID 1 로 init 프로세스가 아닌 다른 프로세스가 실행되고, 프로그램 내부적으로 별도의 시그널 처리를 하지 않았다면 시그널을 받을 수 없다.</p><p>즉, init 프로세스는 foreground 로 작동하며 자식 프로세스가 받는 시그널을 전달하는 역할을 해준다.</p><blockquote><p>참고로 init 프로세스를 background 로 실행하면 init 프로세스가 자식 프로세스들에게 시그널을 전달해줄 수 없다. 그렇기 때문에 init 프로세스는 반드시 foreground 로 실행되어야 한다.</p></blockquote><h1 id="컨테이너에는-init-프로세스가-없다">컨테이너에는 init 프로세스가 없다?</h1><p>도커는 컨테이너 entrypoint 로 명시된 프로세스를 PID 1 로써 새로운 PID 네임스페이스를 정의한다.</p><p>그래서 컨테이너 외부에서는 컨테이너를 종료시키고 싶다면 컨테이너 내부에 있는 PID 1 프로세스에만 신호를 보내서 종료할 수 있다.</p><p>만약, PID 1 에 init 프로세스가 아닌 다른 프로세스가 할당되면 무슨 일이 벌어질까?</p><h2 id="1-sh-프로세스가-pid-1-인-경우">1. sh 프로세스가 PID 1 인 경우</h2><p>Dockerfile 을 통해 다음과 같이 컨테이너 명령을 지정하면, 아래와 같은 프로세스 트리가 생성된다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>- docker run <span class="o">(</span>on the host machine<span class="o">)</span>
  - /bin/sh <span class="o">(</span>PID 1, inside container<span class="o">)</span>
    - python my_server.py <span class="o">(</span>PID 2, inside container<span class="o">)</span>
</pre></table></code></div></div><p>sh 를 PID 1 로 사용하고, 실행할 파일을 sh 가 실행하도록 하면 PID 는 2 로 설정된다. 그러면 실행할 파일이 sh 의 자식 프로세스가 되는데, 이런 경우에는 거의 자식 프로세스에 시그널을 보내는 것이 불가능하다. 앞에서 언급한 것처럼 PID 1 로 실행되는 프로세스가 별도의 시그널 처리를 하지 않았다면 자식 프로세스로 시그널을 전달하는 것이 불가능하기 때문이다.</p><p>그래서 PID 2 로 실행되는 프로세스가 종료될 때까지 PID 1 이 종료되지 않는다. 이러한 경우에는 PID 2 를 종료하고 싶다면 <code class="language-plaintext highlighter-rouge">SIGKILL</code> 시그널을 보내서 프로세스를 종료해야 한다.</p><p>하지만 <code class="language-plaintext highlighter-rouge">SIGKILL</code> 시그널은 프로세스가 정리할 시간을 주지 않고 바로 종료하기 때문에 비정상적인 상황이 발생할 수 있다. 그래서 <code class="language-plaintext highlighter-rouge">SIGKILL</code> 보다는 <code class="language-plaintext highlighter-rouge">SIGTERM</code> 을 이용해서 프로세스를 종료하는 것이 좋다.</p><p>이와 관련한 만화를 보면 더욱 이해가 쉬울 것이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2023/2023-04-27-pid-1-and-dumb-init/1.png" alt="1.png" /></p><p>출처: <a href="https://turnoff.us/geek/dont-sigkill/">don’t sigkill</a> [turnoff.us]</p><h2 id="2-내-프로세스가-pid-1-인-경우">2. 내 프로세스가 PID 1 인 경우</h2><p>Dockerfile 에서 다음과 같이 정의하면, 실행하고자 하는 프로세스가 즉시 시작되고, 컨테이너의 초기화 시스템으로써 작동한다. 결과적으로 아래와 같은 프로세스 트리가 생성된다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>- docker run <span class="o">(</span>on the host machine<span class="o">)</span>
  - python my_server.py <span class="o">(</span>PID 1, inside container<span class="o">)</span>
</pre></table></code></div></div><p>1번과 달리 프로세스는 시그널을 받을 수 있지만, PID 1 에 할당되었기 때문에 예상한대로 시그널이 작동하지 않을 수도 있다.</p><h1 id="dumb-init">dumb-init</h1><p>앞서 살펴본 것처럼 컨테이너 내부에서 PID 1 이 init 프로세스가 실행되지 않기 때문에 앞서 살펴본 것처럼 시그널이 작동하지 않거나, 프로세스가 점유하던 자원 회수를 정상적으로 수행하지 못할 수 있다.</p><p>그래서 dumb-init 이라는 프로그램을 PID 1 로 실행함으로써 앞선 문제들을 해결할 수 있다. dumb-init 은 컨테이너와 같은 경량화된 환경에서 사용하기 위해 개발된 초기화 프로그램이다.</p><p>dumb-init 을 사용하면 아래와 같은 프로세스 트리가 생성된다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>- docker run <span class="o">(</span>on the host machine<span class="o">)</span>
  - dumb-init <span class="o">(</span>PID 1, inside container<span class="o">)</span>
    - python my_server.py <span class="o">(</span>PID 2, inside container<span class="o">)</span>
</pre></table></code></div></div><p>dumb-init 은 모든 시그널에 대해 시그널 핸들러를 등록하고, 해당 시그널을 해당하는 프로세스로 전달한다.</p><h1 id="참고자료">참고자료</h1><ul><li><a href="https://velog.io/@songtofu/Docker%EC%99%80-PID-1%EC%A2%80%EB%B9%84-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4">Docker와 PID 1(좀비 프로세스)</a> [velog]<li><a href="https://www.hahwul.com/2022/08/06/docker-dumb-init/">Docker와 Dumb-Init</a> [hahwul]<li><a href="https://ko.wikipedia.org/wiki/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4_%EC%8B%9D%EB%B3%84%EC%9E%90">프로세스 식별자</a> [위키백과]<li><a href="http://wiki.kldp.org/KoreanDoc/html/Boot_Process-KLDP/swapper.html">process 0 : swapper</a> [kldp]<li><a href="https://sharkmino.tistory.com/1550">[Linux - 리눅스 / Ubuntu - 우분투] 0번 프로세스, 스와퍼(Swapper)</a> [티스토리]<li><a href="https://velog.io/@khyup0629/Linux-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4">[Linux] 프로세스 관련 개념 간단 훑기</a> [velog]<li><a href="https://swalloow.github.io/container-tini-dumb-init/">컨테이너 환경을 위한 초기화 시스템 (Tini, Dumb-Init)</a> [github.io]<li><a href="https://man7.org/linux/man-pages/man7/signal.7.html">signal(7) — Linux manual page</a> [man7]<li><a href="https://petermalmgren.com/signal-handling-docker/">PID 1 Signal Handling in Docker</a> [petermalmgen]<li><a href="https://docs.docker.com/engine/reference/run/#foreground">Docker run reference</a> [docker]<li><a href="https://seereal.pw/22">SIGTERM과 SIGKILL의 차이점</a> [티스토리]</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/docker/'>docker</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/docker/" class="post-tag no-text-decoration">docker</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=PID 1 과 dumb-init (feat. PID 0) - Dev Joon&url=https://han-joon-hyeok.github.io/posts/pid-1-and-dumb-init/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=PID 1 과 dumb-init (feat. PID 0) - Dev Joon&u=https://han-joon-hyeok.github.io/posts/pid-1-and-dumb-init/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://han-joon-hyeok.github.io/posts/pid-1-and-dumb-init/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Nest-js-google-typescript-style-with-eslint-and-prettier/">[Nest.js] 협업을 위한 Google TyepScript Style 을 ESLint, Prettier 에 간단하게 적용하기</a><li><a href="/posts/Next-js-google-typescript-style-with-eslint-and-prettier/">[Next.js] 협업을 위한 Google TyepScript Style 을 ESLint, Prettier 에 간단하게 적용하기</a><li><a href="/posts/ubuntu-file-write-permission-denied/">[Linux] 파일 write 작업 시 PermissionError: [Errno 13] Permission denied 오류 해결</a><li><a href="/posts/what-is-arp/">ARP 개념 정리</a><li><a href="/posts/ubuntu-python-crontab-not-working/">[Linux] python 을 crontab 으로 실행하도록 했는데 실행되지 않는 이유 (feat. 상대경로, 절대경로)</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/level2/">level2</a> <a class="post-tag" href="/tags/level1/">level1</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/pipex/">pipex</a> <a class="post-tag" href="/tags/born2beroot/">born2beroot</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/data-structure/">data structure</a> <a class="post-tag" href="/tags/docker/">docker</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/next-js-env-variable-undefined-with-docker/"><div class="card-body"> <span class="timeago small" > Aug 28, 2023 <i class="unloaded">2023-08-28T01:25:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>next.js 빌드 시 환경 변수가 undefined 인 문제 해결 (feat. docker-compose)</h3><div class="text-muted small"><p> 문제 상황 Next.js 로 작성한 프론트엔드 프로젝트를 docker 와 docker-compose 를 이용해서 컨테이너로 올리고 싶었다. 개발할 때는 .env 파일을 docker-compose 를 통해서 넣어줬고, 환경 변수를 잘 인식했다. 하지만 배포를 위해 npm run build 명령어로 빌드하고 npm run start 로 실행해보니 환...</p></div></div></a></div><div class="card"> <a href="/posts/virtual-machine-and-docker/"><div class="card-body"> <span class="timeago small" > Apr 5, 2023 <i class="unloaded">2023-04-05T12:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>가상머신과 도커의 차이</h3><div class="text-muted small"><p> 가상머신과 도커의 차이 하나의 물리 서버를 효율적으로 사용하기 위해 ‘서버 가상화 기술’이 발전했다. 가상머신과 컨테이너는 모두 서버 가상화 기술을 적용한 것이다. 하지만 어떤 가상화 소프트웨어를 사용하는지, 어떤 시스템 레벨을 가상화하는지에 차이가 존재한다. 가상화 가상화는 컴퓨터에서 하나의 물리 하드웨어 시스템에서 여러 가상 시스템을 실행...</p></div></div></a></div><div class="card"> <a href="/posts/types-of-docker-network/"><div class="card-body"> <span class="timeago small" > Apr 5, 2023 <i class="unloaded">2023-04-05T12:48:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Docker network 개념 정리</h3><div class="text-muted small"><p> Docker network 개념 도커 컨테이너는 격리된 환경에서 실행되기 때문에 기본적으로 다른 컨테이너와 통신을 할 수 없다. 그래서 여러 컨테이너끼리 통신을 하기 위해서는 같은 도커 네트워크에 연결해야 한다. 도커 네트워크는 기본적으로 가상 네트워크 인터페이스를 생성한다. Linux bridge 도커는 linux bridge 를 이용해서 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/how-dns-works/" class="btn btn-outline-primary" prompt="Older"><p>DNS 작동 방식</p></a> <a href="/posts/42seoul-nginx-sampling-project-retrospect/" class="btn btn-outline-primary" prompt="Newer"><p>[회고] 42서울 C++ 기반 nginx 샘플링 프로젝트 회고</p></a></div><script src="https://utteranc.es/client.js" repo="Han-Joon-Hyeok/Han-Joon-Hyeok.github.io" issue-term="pathname" label="Comments" theme="preferred-color-scheme" crossorigin="anonymous" async> </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://github.com/han-joon-hyeok">Joon Hyeok Han</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/level2/">level2</a> <a class="post-tag" href="/tags/level1/">level1</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/pipex/">pipex</a> <a class="post-tag" href="/tags/born2beroot/">born2beroot</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/data-structure/">data structure</a> <a class="post-tag" href="/tags/docker/">docker</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://han-joon-hyeok.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
