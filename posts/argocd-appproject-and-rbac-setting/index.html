<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.3.0" /><meta property="og:title" content="[ArgoCD] AppProject 생성 및 RBAC 설정 가이드" /><meta name="author" content="Joon Hyeok Han" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="개요" /><meta property="og:description" content="개요" /><link rel="canonical" href="https://han-joon-hyeok.github.io/posts/argocd-appproject-and-rbac-setting/" /><meta property="og:url" content="https://han-joon-hyeok.github.io/posts/argocd-appproject-and-rbac-setting/" /><meta property="og:site_name" content="Dev Joon" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-01-19T13:25:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[ArgoCD] AppProject 생성 및 RBAC 설정 가이드" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@Joon Hyeok Han" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Joon Hyeok Han"},"dateModified":"2026-02-16T13:05:47+09:00","datePublished":"2025-01-19T13:25:00+09:00","description":"개요","headline":"[ArgoCD] AppProject 생성 및 RBAC 설정 가이드","mainEntityOfPage":{"@type":"WebPage","@id":"https://han-joon-hyeok.github.io/posts/argocd-appproject-and-rbac-setting/"},"url":"https://han-joon-hyeok.github.io/posts/argocd-appproject-and-rbac-setting/"}</script><title>[ArgoCD] AppProject 생성 및 RBAC 설정 가이드 | Dev Joon</title><link rel="shortcut icon" href="/assets/images/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/images/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/images/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/images/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/images/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/images/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/images/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/images/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/images/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/images/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/images/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/images/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/images/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/images/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/images/favicons/manifest.json"><meta name='msapplication-config' content='/assets/images/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/images/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-SKST7KNWSJ"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-SKST7KNWSJ'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/images/profile.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Dev Joon</a></div><div class="site-subtitle font-italic">성장하는 개발자, 한준혁입니다.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/Han-Joon-Hyeok" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://www.linkedin.com/in/" aria-label="linkedin" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['joonhyeok.han','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>[ArgoCD] AppProject 생성 및 RBAC 설정 가이드</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[ArgoCD] AppProject 생성 및 RBAC 설정 가이드</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Jan 19, 2025, 1:25 PM +0900" > Jan 19, 2025 <i class="unloaded">2025-01-19T13:25:00+09:00</i> </span> by <span class="author"> Joon Hyeok Han </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Mon, Feb 16, 2026, 1:05 PM +0900" > Feb 16 <i class="unloaded">2026-02-16T13:05:47+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1458 words">8 min</span></div></div><div class="post-content"><h1 id="개요">개요</h1><p>ArgoCD는 여러 팀이 공유하여 사용하는 환경에서 애플리케이션을 효과적으로 관리할 수 있도록 <strong>Project(AppProject)</strong> 개념을 제공합니다. 이를 통해 애플리케이션을 논리적으로 구분하고, 특정 소스, 클러스터, 네임스페이스에 제한을 두는 등 다양한 관리 기능을 제공합니다. 또한, 프로젝트별 RBAC(Role-Based Access Control)을 설정해 사용자 권한을 세분화할 수 있습니다.</p><p>이 글에서는 <strong>AppProject 생성</strong> 방법과 이를 활용한 <strong>RBAC 설정</strong>, 그리고 <strong>Helm Chart를 이용한 애플리케이션 배포</strong> 과정을 단계별로 정리했습니다.</p><p>다음과 같은 내용을 포함하고 있습니다.</p><ul><li><strong>AppProject 생성</strong>: 특정 소스와 네임스페이스로 배포를 제한하는 방법<li><strong>Helm Chart를 이용한 애플리케이션 생성</strong>: AppProject와 연동하여 애플리케이션을 배포하는 과정<li><strong>RBAC 설정</strong>: AppProject에 접근할 수 있는 사용자 권한을 설정하고 적용하는 방법<li><strong>사용자 권한 테스트</strong>: 읽기 전용 계정으로 애플리케이션 관리 제한 여부 확인</ul><h1 id="argocd-project-생성하기">ArgoCD Project 생성하기</h1><p>ArgoCD는 애플리케이션을 논리적으로 구분하기 위해 Project라는 개념을 제공합니다. 이는 여러 팀이 ArgoCD를 사용할 때, 애플리케이션을 팀별로 구분하고, 관리와 접근을 효과적으로 제한하는데 유용합니다.</p><p><a href="https://argo-cd.readthedocs.io/en/stable/user-guide/projects/">공식 문서</a>에 따르면, Project를 통해 다음과 같은 기능을 사용할 수 있습니다.</p><ul><li>배포 애플리케이션의 소스(source)를 특정 경로로 제한<li>애플리케이션의 배포 클러스터 및 네임스페이스를 제한<li>배포할 쿠버네티스 객체를 제한하거나 특정 객체를 제외</ul><p>예를 들면, A팀의 Project는 <code class="language-plaintext highlighter-rouge">https://github.com/team-A-org/</code> 경로의 소스만 사용할 수 있도록 설정하거나, 해당 Project에 속한 애플리케이션은 <code class="language-plaintext highlighter-rouge">A-team</code> 이라는 네임스페이스에만 배포할 수 있도록 제한할 수 있습니다.</p><h2 id="appproject-crd-생성">AppProject CRD 생성</h2><p>ArgoCD의 Project를 생성하려면 <code class="language-plaintext highlighter-rouge">AppProject</code> 라는 CRD를 사용합니다. 아래는 예시 파일입니다.</p><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="c1"># demo-project.yaml</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">argoproj.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">AppProject</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">demo-project</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">argocd</span>
  <span class="na">finalizers</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">resources-finalizer.argocd.argoproj.io</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">description</span><span class="pi">:</span> <span class="s">Example Project</span>
  <span class="na">sourceRepos</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">https://github.com/42Cluster-Seoul/*"</span>
  <span class="na">destinations</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">namespace</span><span class="pi">:</span> <span class="s">morning-glory</span>
      <span class="na">server</span><span class="pi">:</span> <span class="s">https://kubernetes.default.svc</span>
  <span class="na">roles</span><span class="pi">:</span>
    <span class="c1"># A role which provides read-only access to all applications in the project</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">read-only</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">Read-only privileges to demo-project</span>
      <span class="na">policies</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">p, proj:demo-project:read-only, applications, get, morning-glory/*, allow</span>
</pre></table></code></div></div><h3 id="주요-속성-설명">주요 속성 설명</h3><p>spec 하위 속성을 살펴보면 아래와 같습니다.</p><ul><li><code class="language-plaintext highlighter-rouge">spec.sourceRepos</code>: 이 프로젝트에 배포되는 애플리케이션은 GitHub의 <code class="language-plaintext highlighter-rouge">https://github.com/42Cluster-Seoul/*</code> 경로에서만 소스를 가져올 수 있습니다.<li><code class="language-plaintext highlighter-rouge">spec.destinations.namespace</code>: <code class="language-plaintext highlighter-rouge">morning-glory</code> 네임스페이스에 배포되는 애플리케이션은 이 Project에 속한다는 것을 의미합니다.<li><code class="language-plaintext highlighter-rouge">spec.roles</code>: 해당 프로젝트에서 적용할 RBAC 정책을 설정합니다.</ul><h3 id="정책-해석-예시">정책 해석 예시</h3><p><code class="language-plaintext highlighter-rouge">spec.roles</code>에서 RBAC을 설정하는 <code class="language-plaintext highlighter-rouge">policies</code> 항목을 살펴보면 아래와 같이 해석할 수 있습니다.</p><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="s">p, proj:demo-project:read-only, applications, get, demo-project/*, allow</span>
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">proj:demo-project:read-only</code> 라는 정책의 이름은 <code class="language-plaintext highlighter-rouge">demo-project</code> 에 속한 모든 애플리케이션에 대해 get(읽기) 권한을 제공합니다.</ul><h3 id="project-생성-명령어">Project 생성 명령어</h3><p>위 yaml 파일을 사용해서 Project를 생성하려면 다음 명령어를 실행합니다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl create <span class="nt">-f</span> demo-project.yaml
</pre></table></code></div></div><p>참고로 Project를 생성한 것만으로는 ArgoCD 웹 대시보드에는 Project가 표시되지 않습니다. Project에 포함된 애플리케이션이 있어야 대시보드에 나타납니다.</p><h1 id="application-생성하기">Application 생성하기</h1><p>Helm Chart를 이용해서 ArgoCD에 애플리케이션을 배포할 수 있습니다. 예시 파일은 아래와 같습니다.</p><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">argoproj.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Application</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">demo-nginx</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">argocd</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">project</span><span class="pi">:</span> <span class="s">demo-project</span>
  <span class="na">source</span><span class="pi">:</span>
    <span class="na">path</span><span class="pi">:</span> <span class="s">stable/demo-nginx</span>
    <span class="na">repoURL</span><span class="pi">:</span> <span class="s">https://github.com/42Cluster-Seoul/helm-charts</span>
    <span class="na">targetRevision</span><span class="pi">:</span> <span class="s">HEAD</span>
    <span class="na">helm</span><span class="pi">:</span>
      <span class="na">valueFiles</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">values.yaml</span>
  <span class="na">destination</span><span class="pi">:</span>
    <span class="na">server</span><span class="pi">:</span> <span class="s">https://kubernetes.default.svc</span>
    <span class="na">namespace</span><span class="pi">:</span> <span class="s">morning-glory</span>
  <span class="na">syncPolicy</span><span class="pi">:</span>
    <span class="na">automated</span><span class="pi">:</span>
      <span class="na">prune</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">selfHeal</span><span class="pi">:</span> <span class="no">true</span>
</pre></table></code></div></div><h3 id="주요-속성-설명-1">주요 속성 설명</h3><ul><li><code class="language-plaintext highlighter-rouge">metadata.namespace</code>: Application은 <code class="language-plaintext highlighter-rouge">argocd</code> 네임스페이스에 속해야 한다. 그렇지 않으면 ArgoCD 웹 대시보드에서 확인할 수 없습니다.<li><code class="language-plaintext highlighter-rouge">spec.project</code>: 애플리케이션이 속한 Project의 이름을 지정합니다. 앞에서 생성한 <code class="language-plaintext highlighter-rouge">AppProject</code> 의 <code class="language-plaintext highlighter-rouge">metadata.name</code> 에 작성한 이름을 넣습니다. 여기서는 <code class="language-plaintext highlighter-rouge">demo-proejct</code>를 입력했습니다.</ul><h1 id="rbac-설정하기">RBAC 설정하기</h1><p>특정 사용자가 Project에 접근할 수 있는 권한을 부여하려면 ArgoCD의 RBAC 설정을 수정해야 합니다. 이를 위해 <code class="language-plaintext highlighter-rouge">argocd-rbac-cm</code> ConfigMap을 편집합니다.</p><h2 id="1-현재-configmap-저장">1. 현재 ConfigMap 저장</h2><p>RBAC 설정 파일을 YAML 파일로 저장하기 위해 아래의 명령어를 실행합니다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl get cm argocd-rbac-cm <span class="nt">-n</span> argocd <span class="nt">-o</span> yaml <span class="o">&gt;</span> argocd-rbac-cm.yaml
</pre></table></code></div></div><h2 id="2-사용자와-정책-연결">2. 사용자와 정책 연결</h2><p>저장된 <code class="language-plaintext highlighter-rouge">argocd-rbac-cm.yaml</code> 파일의 <code class="language-plaintext highlighter-rouge">data.policy.csv</code> 항목에 사용자 계정(<code class="language-plaintext highlighter-rouge">username</code>)과 프로젝트에서 선언한 정책(<code class="language-plaintext highlighter-rouge">proj:demo:project:read-only</code>)을 연결합니다.</p><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c1"># argocd-rbac-cm.yaml</span>

<span class="na">data</span><span class="pi">:</span>
  <span class="na">policy.csv</span><span class="pi">:</span> <span class="pi">|</span>
    <span class="s">g, username, proj:demo-project:read-only</span>
    <span class="s">...</span>
</pre></table></code></div></div><p>변경 내용을 저장하고 아래의 명령어를 실행해서 적용합니다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl apply <span class="nt">-f</span> argocd-rbac-cm <span class="nt">-n</span> argocd
</pre></table></code></div></div><h1 id="접근-권한-테스트">접근 권한 테스트</h1><p>읽기 전용 권한이 적용된 계정으로 애플리케이션을 삭제하려고 시도하면, 아래의 이미지와 같이 삭제가 실패하는 것을 확인할 수 있습니다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2025/2025-01-19-argocd-appproject-and-rbac-setting/1.png" alt="1.png" /></p><h1 id="참고자료">참고자료</h1><ul><li><a href="https://argo-cd.readthedocs.io/en/stable/user-guide/projects/#project-roles">Projects</a> [argocd]<li><a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/rbac/#rbac-configuration">RBAC Configuration</a> [argocd]<li><a href="https://github.com/argoproj/argo-cd/blob/master/docs/operator-manual/project.yaml">argo-cd/docs/operator-manual/project.yaml</a> [github]</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/argocd/'>argocd</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[ArgoCD] AppProject 생성 및 RBAC 설정 가이드 - Dev Joon&url=https://han-joon-hyeok.github.io/posts/argocd-appproject-and-rbac-setting/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[ArgoCD] AppProject 생성 및 RBAC 설정 가이드 - Dev Joon&u=https://han-joon-hyeok.github.io/posts/argocd-appproject-and-rbac-setting/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://han-joon-hyeok.github.io/posts/argocd-appproject-and-rbac-setting/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Nest-js-google-typescript-style-with-eslint-and-prettier/">[Nest.js] 협업을 위한 Google TyepScript Style 을 ESLint, Prettier 에 간단하게 적용하기</a><li><a href="/posts/Next-js-google-typescript-style-with-eslint-and-prettier/">[Next.js] 협업을 위한 Google TyepScript Style 을 ESLint, Prettier 에 간단하게 적용하기</a><li><a href="/posts/ubuntu-file-write-permission-denied/">[Linux] 파일 write 작업 시 PermissionError: [Errno 13] Permission denied 오류 해결</a><li><a href="/posts/what-is-arp/">ARP 개념 정리</a><li><a href="/posts/ubuntu-python-crontab-not-working/">[Linux] python 을 crontab 으로 실행하도록 했는데 실행되지 않는 이유 (feat. 상대경로, 절대경로)</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/level2/">level2</a> <a class="post-tag" href="/tags/level1/">level1</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/pipex/">pipex</a> <a class="post-tag" href="/tags/born2beroot/">born2beroot</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/data-structure/">data structure</a> <a class="post-tag" href="/tags/docker/">docker</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/argo-rollouts-with-appproject/"><div class="card-body"> <span class="timeago small" > Nov 3, 2024 <i class="unloaded">2024-11-03T17:20:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[ArgoCD] RBAC 적용을 위한 AppProject와 무중단 배포를 위한 Argo Rollouts 함께 사용하기</h3><div class="text-muted small"><p> Argo Rollouts 설치(helm) 1. 플레인 쿠버네티스 argo-rollouts 네임스페이스 생성 후 설치 kubectl create ns argo-rollouts helm install argo-rollouts argo/argo-rollouts --version 2.35.1 --namespace argo-rollouts 2. EKS...</p></div></div></a></div><div class="card"> <a href="/posts/argocd-hpa-with-autoscaling-strategies/"><div class="card-body"> <span class="timeago small" > Nov 10, 2024 <i class="unloaded">2024-11-10T15:50:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[ArgoCD] 무중단 배포 전략과 함께 HPA 적용하기</h3><div class="text-muted small"><p> 개요 Kubernetes의 HPA(Horizontal Pod Autoscaler) 객체를 활용하여 무중단 배포 전략(Rolling Update, Canary)을 설정하고, 오토스케일링을 구현하는 방법을 정리했다. HPA 개념 출처: Was ist (Kubernetes) Autoscaling? VPA vs. HPA [kreyman] HPA(H...</p></div></div></a></div><div class="card"> <a href="/posts/argocd-canary-deployment-traffic-load-balancing-analysis/"><div class="card-body"> <span class="timeago small" > Nov 17, 2024 <i class="unloaded">2024-11-17T21:10:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[ArgoCD] 무중단 배포 canary 전략의 파드 개수에 따른 로드밸런싱</h3><div class="text-muted small"><p> 개요 ArgoCD에서 지원하는 무중단 배포 전략 중 하나인 canary 전략을 사용해서 업데이트를 진행할 때, 파드의 개수에 따라 트래픽의 로드 밸런싱이 어떻게 이루어지는지 정리했다. canary 개념 새롭게 업데이트 하는 버전을 v2, 기존 실행하고 있는 버전을 v1이라고 해보자. canary 배포 전략에서는 v1에 보내던 트래픽을 v2로 점...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/argocd-kustomize-with-notification-configmap/" class="btn btn-outline-primary" prompt="Older"><p>[ArgoCD] Kustomize를 사용한 Notification 템플릿 관리 및 배포</p></a> <a href="/posts/discord-bot-with-jda-cron-and-docker/" class="btn btn-outline-primary" prompt="Newer"><p>[Java] JDA, cron, Docker를 활용한 Discord 메시지 전송 Bot 만들기</p></a></div><script src="https://utteranc.es/client.js" repo="Han-Joon-Hyeok/Han-Joon-Hyeok.github.io" issue-term="pathname" label="Comments" theme="preferred-color-scheme" crossorigin="anonymous" async> </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://github.com/han-joon-hyeok">Joon Hyeok Han</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/level2/">level2</a> <a class="post-tag" href="/tags/level1/">level1</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/pipex/">pipex</a> <a class="post-tag" href="/tags/born2beroot/">born2beroot</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/data-structure/">data structure</a> <a class="post-tag" href="/tags/docker/">docker</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://han-joon-hyeok.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
