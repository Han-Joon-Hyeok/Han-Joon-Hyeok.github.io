<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.3.0" /><meta property="og:title" content="[ArgoCD] RBAC 적용을 위한 AppProject와 무중단 배포를 위한 Argo Rollouts 함께 사용하기" /><meta name="author" content="Joon Hyeok Han" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="Argo Rollouts 설치(helm)" /><meta property="og:description" content="Argo Rollouts 설치(helm)" /><link rel="canonical" href="https://han-joon-hyeok.github.io/posts/argo-rollouts-with-appproject/" /><meta property="og:url" content="https://han-joon-hyeok.github.io/posts/argo-rollouts-with-appproject/" /><meta property="og:site_name" content="Dev Joon" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-11-03T17:20:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[ArgoCD] RBAC 적용을 위한 AppProject와 무중단 배포를 위한 Argo Rollouts 함께 사용하기" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@Joon Hyeok Han" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Joon Hyeok Han"},"dateModified":"2024-11-03T17:47:36+09:00","datePublished":"2024-11-03T17:20:00+09:00","description":"Argo Rollouts 설치(helm)","headline":"[ArgoCD] RBAC 적용을 위한 AppProject와 무중단 배포를 위한 Argo Rollouts 함께 사용하기","mainEntityOfPage":{"@type":"WebPage","@id":"https://han-joon-hyeok.github.io/posts/argo-rollouts-with-appproject/"},"url":"https://han-joon-hyeok.github.io/posts/argo-rollouts-with-appproject/"}</script><title>[ArgoCD] RBAC 적용을 위한 AppProject와 무중단 배포를 위한 Argo Rollouts 함께 사용하기 | Dev Joon</title><link rel="shortcut icon" href="/assets/images/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/images/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/images/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/images/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/images/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/images/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/images/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/images/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/images/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/images/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/images/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/images/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/images/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/images/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/images/favicons/manifest.json"><meta name='msapplication-config' content='/assets/images/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/images/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-SKST7KNWSJ"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-SKST7KNWSJ'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/images/profile.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Dev Joon</a></div><div class="site-subtitle font-italic">성장하는 개발자, 한준혁입니다.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/Han-Joon-Hyeok" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://www.linkedin.com/in/" aria-label="linkedin" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['joonhyeok.han','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>[ArgoCD] RBAC 적용을 위한 AppProject와 무중단 배포를 위한 Argo Rollouts 함께 사용하기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[ArgoCD] RBAC 적용을 위한 AppProject와 무중단 배포를 위한 Argo Rollouts 함께 사용하기</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Nov 3, 2024, 5:20 PM +0900" > Nov 3, 2024 <i class="unloaded">2024-11-03T17:20:00+09:00</i> </span> by <span class="author"> Joon Hyeok Han </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Nov 3, 2024, 5:47 PM +0900" > Nov 3, 2024 <i class="unloaded">2024-11-03T17:47:36+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1617 words">8 min</span></div></div><div class="post-content"><h1 id="argo-rollouts-설치helm">Argo Rollouts 설치(helm)</h1><h2 id="1-플레인-쿠버네티스">1. 플레인 쿠버네티스</h2><p><code class="language-plaintext highlighter-rouge">argo-rollouts</code> 네임스페이스 생성 후 설치</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>kubectl create ns argo-rollouts
helm <span class="nb">install </span>argo-rollouts argo/argo-rollouts <span class="nt">--version</span> 2.35.1 <span class="nt">--namespace</span> argo-rollouts
</pre></table></code></div></div><h2 id="2-eks">2. EKS</h2><p>Argo Rollouts 대시보드까지 함께 보고 싶다면 values 파일을 아래와 같이 추가해서 사용 가능.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOT</span><span class="sh"> &gt; argorollouts-values.yaml
dashboard:
  enabled: true
  ingress:
    enabled: true
    ingressClassName: alb
    hosts:
      - argorollouts.</span><span class="nv">$MyDomain</span><span class="sh">
    annotations:
      alb.ingress.kubernetes.io/scheme: internet-facing
      alb.ingress.kubernetes.io/target-type: ip
      alb.ingress.kubernetes.io/backend-protocol: HTTP
      alb.ingress.kubernetes.io/listen-ports: '[{"HTTPS":80}, {"HTTPS":443}]'
      alb.ingress.kubernetes.io/certificate-arn: </span><span class="nv">$CERT_ARN</span><span class="sh">
      alb.ingress.kubernetes.io/ssl-redirect: '443'
</span><span class="no">EOT
</span></pre></table></code></div></div><p>위의 파일을 토대로 아래 명령어 실행</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>kubectl create ns argo-rollouts
helm <span class="nb">install </span>argo-rollouts argo/argo-rollouts <span class="nt">--version</span> 2.35.1 <span class="nt">-f</span> argorollouts-values.yaml <span class="nt">--namespace</span> argo-rollouts
</pre></table></code></div></div><h1 id="argo-rollouts-cli-설치">Argo Rollouts CLI 설치</h1><p>Argo Rollouts 을 설치하기 위한 사전 조건은 아래와 같다.</p><ol><li><code class="language-plaintext highlighter-rouge">kubectl</code> 설치<li><code class="language-plaintext highlighter-rouge">kubeconfig</code> 파일이 <code class="language-plaintext highlighter-rouge">~/.kube/config</code> 디렉토리에 존재<li>쿠버네티스 클러스터에 ArgoCD 설치 완료</ol><p>아래의 명령어 실행해서 CLI 설치</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>curl <span class="nt">-LO</span> https://github.com/argoproj/argo-rollouts/releases/latest/download/kubectl-argo-rollouts-linux-amd64
<span class="nb">chmod</span> +x ./kubectl-argo-rollouts-linux-amd64
<span class="nb">sudo mv</span> ./kubectl-argo-rollouts-linux-amd64 /usr/local/bin/kubectl-argo-rollouts
</pre></table></code></div></div><p>설치 확인을 위해 아래의 명령어 실행</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>kubectl argo rollouts version
<span class="c">#kubectl-argo-rollouts: v1.6.6+737ca89</span>
<span class="c">#  BuildDate: 2024-02-13T15:39:31Z</span>
<span class="c">#  GitCommit: 737ca89b42e4791e96e05b438c2b8540737a2a1a</span>
<span class="c">#  GitTreeState: clean</span>
<span class="c">#  GoVersion: go1.20.14</span>
<span class="c">#  Compiler: gc</span>
<span class="c">#  Platform: linux/amd64</span>
</pre></table></code></div></div><h1 id="appproject--rollout">AppProject + Rollout</h1><p>Project 에 Rollout 으로 애플리케이션을 배포하는 작업을 위해 helm chart 를 이용했다.</p><h2 id="디렉토리-구조">디렉토리 구조</h2><p>디렉토리 구조는 아래와 같다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="nb">.</span>
├── demo-rollout
│   ├── Chart.yaml
│   ├── templates
│   │   ├── ingress.yaml
│   │   ├── rollout.yaml
│   │   └── service.yaml
│   └── values.yaml
└── demo-rollout-application.yaml
</pre></table></code></div></div><h2 id="applicationyaml">application.yaml</h2><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">argoproj.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Application</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">demo-rollout</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">argocd</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">project</span><span class="pi">:</span> <span class="s">demo-project</span>
  <span class="na">source</span><span class="pi">:</span>
    <span class="na">path</span><span class="pi">:</span> <span class="s">stable/demo-rollout</span>
    <span class="na">repoURL</span><span class="pi">:</span> <span class="s">https://github.com/42Cluster-Seoul/helm-charts</span>
    <span class="na">targetRevision</span><span class="pi">:</span> <span class="s">HEAD</span>
    <span class="na">helm</span><span class="pi">:</span>
      <span class="na">valueFiles</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">values.yaml</span>
  <span class="na">destination</span><span class="pi">:</span>
    <span class="na">server</span><span class="pi">:</span> <span class="s">https://kubernetes.default.svc</span>
    <span class="na">namespace</span><span class="pi">:</span> <span class="s">morning-glory</span>
  <span class="na">syncPolicy</span><span class="pi">:</span>
    <span class="na">automated</span><span class="pi">:</span>
      <span class="na">prune</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">selfHeal</span><span class="pi">:</span> <span class="no">true</span>
</pre></table></code></div></div><h2 id="valuesyaml">values.yaml</h2><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="na">app</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">demo-rollout"</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">5</span>
  <span class="na">image</span><span class="pi">:</span> <span class="s2">"</span><span class="s">argoproj/rollouts-demo:blue"</span>
  <span class="na">port</span><span class="pi">:</span> <span class="m">8080</span> <span class="c1"># 애플리케이션의 포트 번호에 맞게 설정</span>
  <span class="na">resources</span><span class="pi">:</span>
    <span class="na">requests</span><span class="pi">:</span>
      <span class="na">cpu</span><span class="pi">:</span> <span class="s2">"</span><span class="s">1m"</span>
      <span class="na">memory</span><span class="pi">:</span> <span class="s2">"</span><span class="s">128Mi"</span>
    <span class="na">limits</span><span class="pi">:</span>
      <span class="na">cpu</span><span class="pi">:</span> <span class="s2">"</span><span class="s">1m"</span>
      <span class="na">memory</span><span class="pi">:</span> <span class="s2">"</span><span class="s">128Mi"</span>

<span class="na">podAnnotations</span><span class="pi">:</span> <span class="pi">{}</span>
<span class="na">podLabels</span><span class="pi">:</span>
  <span class="na">tier</span><span class="pi">:</span> <span class="s">backend</span>

<span class="na">ingress</span><span class="pi">:</span>
  <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">className</span><span class="pi">:</span> <span class="s">nginx</span>
  <span class="na">host</span><span class="pi">:</span> <span class="s2">"</span><span class="s">localhost"</span>
  <span class="na">path</span><span class="pi">:</span> <span class="s">/</span>
  <span class="na">pathType</span><span class="pi">:</span> <span class="s">Prefix</span>

<span class="na">service</span><span class="pi">:</span>
  <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">port</span><span class="pi">:</span> <span class="m">80</span>
</pre></table></code></div></div><h2 id="templates">templates</h2><h3 id="rolloutyaml">rollout.yaml</h3><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre><td class="rouge-code"><pre><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">argoproj.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Rollout</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">-rollout</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> 
    <span class="na">chart</span><span class="pi">:</span> <span class="s2">"</span><span class="s">-"</span>
    <span class="na">release</span><span class="pi">:</span> 
    <span class="na">heritage</span><span class="pi">:</span> 
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> 
  <span class="na">revisionHistoryLimit</span><span class="pi">:</span> <span class="m">3</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> 
      <span class="na">release</span><span class="pi">:</span> 
  <span class="na">strategy</span><span class="pi">:</span>
    <span class="na">canary</span><span class="pi">:</span>
      <span class="na">canaryService</span><span class="pi">:</span> <span class="s">-canary</span>
      <span class="na">stableService</span><span class="pi">:</span> <span class="s">-stable</span>
      <span class="na">trafficRouting</span><span class="pi">:</span>
        <span class="na">nginx</span><span class="pi">:</span>
          <span class="na">stableIngress</span><span class="pi">:</span> <span class="s">-stable</span>
      <span class="na">stpes</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">setWeight</span><span class="pi">:</span> <span class="m">20</span>
        <span class="pi">-</span> <span class="na">pause</span><span class="pi">:</span> <span class="pi">{}</span>
        <span class="pi">-</span> <span class="na">setWeight</span><span class="pi">:</span> <span class="m">40</span>
        <span class="pi">-</span> <span class="na">pause</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">duration</span><span class="pi">:</span> <span class="nv">5s</span><span class="pi">}</span>
        <span class="pi">-</span> <span class="na">setWeight</span><span class="pi">:</span> <span class="m">60</span>
        <span class="pi">-</span> <span class="na">pause</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">duration</span><span class="pi">:</span> <span class="nv">5s</span><span class="pi">}</span>
        <span class="pi">-</span> <span class="na">setWeight</span><span class="pi">:</span> <span class="m">80</span>
        <span class="pi">-</span> <span class="na">pause</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">duration</span><span class="pi">:</span> <span class="nv">5s</span><span class="pi">}</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">annotations</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> 
        <span class="na">release</span><span class="pi">:</span> 
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> 
          <span class="na">image</span><span class="pi">:</span> 
          <span class="na">resources</span><span class="pi">:</span>
          <span class="na">ports</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">http</span>
              <span class="na">containerPort</span><span class="pi">:</span> 
              <span class="na">protocol</span><span class="pi">:</span> <span class="s">TCP</span>
</pre></table></code></div></div><h3 id="serviceyaml">service.yaml</h3><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> 
  <span class="na">name</span><span class="pi">:</span> <span class="s">-canary</span>
  <span class="na">namespace</span><span class="pi">:</span> 
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">ports</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> 
    <span class="na">protocol</span><span class="pi">:</span> <span class="s">TCP</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">http</span>
    <span class="na">targetPort</span><span class="pi">:</span> 
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> 
<span class="nn">---</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> 
  <span class="na">name</span><span class="pi">:</span> <span class="s">-stable</span>
  <span class="na">namespace</span><span class="pi">:</span> 
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">ports</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> 
    <span class="na">protocol</span><span class="pi">:</span> <span class="s">TCP</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">http</span>
    <span class="na">targetPort</span><span class="pi">:</span> 
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> 
</pre></table></code></div></div><h3 id="ingressyaml">ingress.yaml</h3><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.k8s.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Ingress</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">-stable</span>
  <span class="na">namespace</span><span class="pi">:</span> 
  <span class="na">annotations</span><span class="pi">:</span>
    <span class="na">kubernetes.io/ingress.class</span><span class="pi">:</span> 
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">ingressClassName</span><span class="pi">:</span> 
  <span class="na">rules</span><span class="pi">:</span>
  <span class="c1"># - host:  # ALB 적용 시 사용</span>
   <span class="pi">-</span> <span class="na">http</span><span class="pi">:</span>
      <span class="na">paths</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">path</span><span class="pi">:</span> 
        <span class="na">pathType</span><span class="pi">:</span> 
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">service</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">-stable</span>
            <span class="na">port</span><span class="pi">:</span>
              <span class="na">number</span><span class="pi">:</span> 
</pre></table></code></div></div><h2 id="배포">배포</h2><p>아래의 명령어를 실행해서 애플리케이션을 배포한다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl create <span class="nt">-f</span> demo-rollout-application.yaml
</pre></table></code></div></div><h2 id="배포-확인">배포 확인</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2024/2024-11-03-argo-rollouts-with-appproject/1.png" alt="1.png" /></p><p>ArgoCD 대시보드에서 배포가 된 것을 확인할 수 있다.</p><ul><li>Ingress 가 계속 Progressing 으로 표시되는 현상 ArgoCD 에서 health 라고 표시하는 조건을 LoadBalancer 의 개수가 0개 이상으로 걸려있어서 발생하는 현상이라고 한다.<ul><li>참고자료: <a href="https://github.com/argoproj/argo-cd/issues/14607">ArgoCD app stuck in Progressing for ingress workloads with no LB IP address</a> [github] 실제로 배포된 Ingress 의 manifest 를 살펴보면 아래와 같이 되어 있다.<div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="na">status</span><span class="pi">:</span>
<span class="na">loadBalancer</span><span class="pi">:</span> <span class="pi">{}</span>
</pre></table></code></div></div><p>EKS 가 아닌 로컬에서 nginx ingress 를 사용하기 때문에 임시방편으로 argocd-cm 을 수정해서 사용할 수 있다.</p><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="s">kubectl -n argocd edit configmap argocd-cm</span>
</pre></table></code></div></div><p>data 속성에 아래의 값을 추가한다.</p><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="na">data</span><span class="pi">:</span>
  <span class="s">...</span>
<span class="na">resource.customizations</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="s">networking.k8s.io/Ingress:</span>
      <span class="s">health.lua: |</span>
        <span class="s">hs = {}</span>
        <span class="s">hs.status = "Healthy"</span>
        <span class="s">return hs</span>
</pre></table></code></div></div></ul></ul><p>nginx ingress 를 이용해서 접속하기 위해 nginx ingress controller 의 node port 번호를 확인한다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>kubectl get svc <span class="nt">-n</span> ingress-nginx
<span class="c">#NAME                                 TYPE           CLUSTER-IP       EXTERNAL-IP   PORT(S)                      AGE</span>
<span class="c">#ingress-nginx-controller             LoadBalancer   10.105.48.107    &lt;pending&gt;     80:32269/TCP,443:31321/TCP   4h22m</span>
</pre></table></code></div></div><p>위의 예시에서는 32269번이므로 브라우저에서 <code class="language-plaintext highlighter-rouge">localhost:32269</code> 로 접속한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2024/2024-11-03-argo-rollouts-with-appproject/2.png" alt="2.png" /></p><ul><li><p>계속 Out of Sync 로 표시되는 현상</p><p>Github Repository 와 쿠버네티스 클러스터에 배포한 애플리케이션의 상태가 다르지 않음에도 지속적으로 Out of Sync 가 발생하는 현상이 있었다.</p><p>원인은 canary 배포 전략에 <code class="language-plaintext highlighter-rouge">steps</code> 속성을 <code class="language-plaintext highlighter-rouge">stpes</code> 로 잘못 입력한 것이었다.</p><div class="language-diff highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="p">canary:
</span>      canaryService: -canary
      stableService: -stable
      trafficRouting:
        nginx:
          stableIngress: -stable
<span class="gd">-     stpes
</span><span class="gi">+     steps:
</span>		    - setWeight: 20
	        - pause: {}
	        - setWeight: 40
	        - pause: {duration: 5s}
	        - setWeight: 60
	        - pause: {duration: 5s}
	        - setWeight: 80
	        - pause: {duration: 5s}
</pre></table></code></div></div><li><p>Canary 배포 전략을 적용했지만, 이미지를 바꾸었을 때 revision 1 에서 2 가 아닌 3 으로 가는 오류가 있다.</p><p>Ingress 를 제거하니 해당 현상이 사라졌다.</p><p>트래픽 라우팅과 관련해서 문제가 있었던 것 같은데, ALB 와 연동해서 어떻게 작동할 지 확인해야 할 것 같다.</p><li><p><code class="language-plaintext highlighter-rouge">kubectl delete -f rollout-application.yaml</code> 명령어로 삭제해도 rollout 이 삭제되지 않는 현상 <code class="language-plaintext highlighter-rouge">kubectl delete</code> 명령어를 이용해서 Rollout 을 삭제하면 웹 대시보드에서는 보이지 않지만, CLI 로 조회를 해보면 여전히 남아있는 문제가 있다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>kubectl get rollout <span class="nt">-n</span> morning-glory
<span class="c">#NAME                   DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE</span>
<span class="c">#demo-rollout-rollout   5         5         5            5           8m8s</span>
</pre></table></code></div></div><p>아래의 명령어를 실행해서 직접 삭제했다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl delete rollout demo-rollout-rollout <span class="nt">-n</span> morning-glory
</pre></table></code></div></div><p>또는, ArgoCD 웹 대시보드에서 애플리케이션을 직접 삭제하면 된다.</p></ul><h1 id="argo-rollout-대시보드-접속">Argo Rollout 대시보드 접속</h1><p>아래의 명령어 실행</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl argo rollouts dashboard
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">localhost:3100/rollouts/{namespace}</code> 로 접속하면 대시보드 확인할 수 있다.</p><p>또한, 배포를 수동으로 해주어야 하는 경우 promote 를 해줄 수 있다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2024/2024-11-03-argo-rollouts-with-appproject/3.png" alt="3.png" /></p><p>이전 버전으로 되돌리는 rollback 도 rollout 대시보드에서 가능하다.</p><p>rollback 은 ArgoCD 대시보드에서도 가능하지만, promote 를 하는 건 rollout 대시보드에서만 가능하다.</p><h1 id="참고자료">참고자료</h1><ul><li><a href="https://velog.io/@dhkim1522/k8s-%EC%9D%B8%EA%B7%B8%EB%A0%88%EC%8A%A4-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC-ingress-controller-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0">[k8s] Nginx Ingress Controller를 사용한 Ingress 구축</a> [velog]<li><a href="https://kubernetes.github.io/ingress-nginx/deploy/#quick-start">Ingress-Nginx Controller</a> [kubernetes.github.io]<li><a href="https://github.com/argoproj/argo-rollouts/blob/master/docs/getting-started/nginx/index.md">argo-rollouts getting started nginx example</a> [github]<li><a href="https://argo-rollouts.readthedocs.io/en/stable/dashboard/">UI Dashboard</a> [argo-rollouts]</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/argocd/'>argocd</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[ArgoCD] RBAC 적용을 위한 AppProject와 무중단 배포를 위한 Argo Rollouts 함께 사용하기 - Dev Joon&url=https://han-joon-hyeok.github.io/posts/argo-rollouts-with-appproject/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[ArgoCD] RBAC 적용을 위한 AppProject와 무중단 배포를 위한 Argo Rollouts 함께 사용하기 - Dev Joon&u=https://han-joon-hyeok.github.io/posts/argo-rollouts-with-appproject/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://han-joon-hyeok.github.io/posts/argo-rollouts-with-appproject/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Nest-js-google-typescript-style-with-eslint-and-prettier/">[Nest.js] 협업을 위한 Google TyepScript Style 을 ESLint, Prettier 에 간단하게 적용하기</a><li><a href="/posts/Next-js-google-typescript-style-with-eslint-and-prettier/">[Next.js] 협업을 위한 Google TyepScript Style 을 ESLint, Prettier 에 간단하게 적용하기</a><li><a href="/posts/ubuntu-file-write-permission-denied/">[Linux] 파일 write 작업 시 PermissionError: [Errno 13] Permission denied 오류 해결</a><li><a href="/posts/what-is-arp/">ARP 개념 정리</a><li><a href="/posts/ubuntu-python-crontab-not-working/">[Linux] python 을 crontab 으로 실행하도록 했는데 실행되지 않는 이유 (feat. 상대경로, 절대경로)</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/level2/">level2</a> <a class="post-tag" href="/tags/level1/">level1</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/pipex/">pipex</a> <a class="post-tag" href="/tags/born2beroot/">born2beroot</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/data-structure/">data structure</a> <a class="post-tag" href="/tags/docker/">docker</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/argocd-hpa-with-autoscaling-strategies/"><div class="card-body"> <span class="timeago small" > Nov 10, 2024 <i class="unloaded">2024-11-10T15:50:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[ArgoCD] 무중단 배포 전략과 함께 HPA 적용하기</h3><div class="text-muted small"><p> 개요 Kubernetes의 HPA(Horizontal Pod Autoscaler) 객체를 활용하여 무중단 배포 전략(Rolling Update, Canary)을 설정하고, 오토스케일링을 구현하는 방법을 정리했다. HPA 개념 출처: Was ist (Kubernetes) Autoscaling? VPA vs. HPA [kreyman] HPA(H...</p></div></div></a></div><div class="card"> <a href="/posts/argocd-canary-deployment-traffic-load-balancing-analysis/"><div class="card-body"> <span class="timeago small" > Nov 17, 2024 <i class="unloaded">2024-11-17T21:10:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[ArgoCD] 무중단 배포 canary 전략의 파드 개수에 따른 로드밸런싱</h3><div class="text-muted small"><p> 개요 ArgoCD에서 지원하는 무중단 배포 전략 중 하나인 canary 전략을 사용해서 업데이트를 진행할 때, 파드의 개수에 따라 트래픽의 로드 밸런싱이 어떻게 이루어지는지 정리했다. canary 개념 새롭게 업데이트 하는 버전을 v2, 기존 실행하고 있는 버전을 v1이라고 해보자. canary 배포 전략에서는 v1에 보내던 트래픽을 v2로 점...</p></div></div></a></div><div class="card"> <a href="/posts/argocd-custom-trigger-notifications/"><div class="card-body"> <span class="timeago small" > Dec 1, 2024 <i class="unloaded">2024-12-01T16:40:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[ArgoCD] 사용자 정의 트리거(Custom Trigger)를 활용한 알림 설정하기</h3><div class="text-muted small"><p> 개요 ArgoCD에서 제공하는 기본 트리거 외에도 사용자가 새롭게 트리거를 정의하여 알림을 보낼 수 있습니다. ArgoCD와 Argo Rollouts 모두 커스텀 트리거를 지원하며, 적용 방법은 동일하므로 이 글에서는 ArgoCD를 기준으로 설명합니다. 1. Notification ConfigMap 수정 ConfigMap 파일 수정 알림 설정...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/how-to-setup-pgadmin-on-aws/" class="btn btn-outline-primary" prompt="Older"><p>[AWS] AWS 3-Tier 아키텍처에서 nginx 리버스 프록시를 이용한 pgadmin 배포 방법</p></a> <a href="/posts/argocd-hpa-with-autoscaling-strategies/" class="btn btn-outline-primary" prompt="Newer"><p>[ArgoCD] 무중단 배포 전략과 함께 HPA 적용하기</p></a></div><script src="https://utteranc.es/client.js" repo="Han-Joon-Hyeok/Han-Joon-Hyeok.github.io" issue-term="pathname" label="Comments" theme="preferred-color-scheme" crossorigin="anonymous" async> </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://github.com/han-joon-hyeok">Joon Hyeok Han</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/level2/">level2</a> <a class="post-tag" href="/tags/level1/">level1</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/pipex/">pipex</a> <a class="post-tag" href="/tags/born2beroot/">born2beroot</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/data-structure/">data structure</a> <a class="post-tag" href="/tags/docker/">docker</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://han-joon-hyeok.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
