<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.3.0" /><meta property="og:title" content="[C언어] 매크로 재정의 오류 원인과 해결 방법 (GCC 전처리기 기준)" /><meta name="author" content="Joon Hyeok Han" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="실행 환경" /><meta property="og:description" content="실행 환경" /><link rel="canonical" href="https://han-joon-hyeok.github.io/posts/gcc-macro-redefined-error-fix/" /><meta property="og:url" content="https://han-joon-hyeok.github.io/posts/gcc-macro-redefined-error-fix/" /><meta property="og:site_name" content="Dev Joon" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-10-14T14:40:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[C언어] 매크로 재정의 오류 원인과 해결 방법 (GCC 전처리기 기준)" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@Joon Hyeok Han" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Joon Hyeok Han"},"dateModified":"2025-10-14T14:40:00+09:00","datePublished":"2025-10-14T14:40:00+09:00","description":"실행 환경","headline":"[C언어] 매크로 재정의 오류 원인과 해결 방법 (GCC 전처리기 기준)","mainEntityOfPage":{"@type":"WebPage","@id":"https://han-joon-hyeok.github.io/posts/gcc-macro-redefined-error-fix/"},"url":"https://han-joon-hyeok.github.io/posts/gcc-macro-redefined-error-fix/"}</script><title>[C언어] 매크로 재정의 오류 원인과 해결 방법 (GCC 전처리기 기준) | Dev Joon</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-SKST7KNWSJ"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-SKST7KNWSJ'); }); </script> <script type="text/x-mathjax-config"> MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}}); </script> <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"> </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/profile.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Dev Joon</a></div><div class="site-subtitle font-italic">성장하는 개발자, 한준혁입니다.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/Han-Joon-Hyeok" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['joonhyeok.han','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>[C언어] 매크로 재정의 오류 원인과 해결 방법 (GCC 전처리기 기준)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[C언어] 매크로 재정의 오류 원인과 해결 방법 (GCC 전처리기 기준)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Oct 14, 2025, 2:40 PM +0900" > Oct 14 <i class="unloaded">2025-10-14T14:40:00+09:00</i> </span> by <span class="author"> Joon Hyeok Han </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1431 words">7 min</span></div></div><div class="post-content"><h1 id="실행-환경">실행 환경</h1><ul><li>OS: Ubuntu 22.04<li>Architecture: x86_64 (64-bit)<li>GCC: 11.4.0</ul><h1 id="요약">요약</h1><p>동일한 이름의 매크로를 서로 다른 방식으로 정의하면 GCC 전처리기가 두 매크로를 동일하지 않은 토큰으로 판단해 <code class="language-plaintext highlighter-rouge">redefined</code> 오류가 발생한다.</p><p>안전하게 프로그램을 설계하려면 <code class="language-plaintext highlighter-rouge">#ifndef</code> 전처리기 사용 또는 헤더 파일 정의 원칙을 지키면 해결 가능하다.</p><h1 id="문제-상황">문제 상황</h1><p>make를 이용해서 컴파일을 수행하던 중, 매크로 상수가 재정의(redefined)되었다는 오류가 발생했다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>Compiling debug.c
debug.c:667:1: error: <span class="s2">"BIT_0"</span> redefined
In file included from include/sys_include.h:28,
                 from debug.c:27:
include/ipc_constant.h:690:1: error: this is the location of the previous definition
</pre></table></code></div></div><p>문제가 되는 코드를 확인해보니 다음과 같았다.</p><div class="language-c highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="c1">// debug.c</span>

<span class="c1">// 생략</span>

<span class="cp">#define BIT_0  0x00000001
#define BIT_1  0x00000002
#define BIT_2  0x00000004
#define BIT_3  0x00000008
#define BIT_4  0x00000010
#define BIT_5  0x00000020
#define BIT_6  0x00000040
#define BIT_7  0x00000080
#define BIT_8  0x00000100
</span>
<span class="kt">void</span> <span class="nf">func</span><span class="p">()</span>
<span class="p">{</span>
	<span class="c1">// ..</span>
<span class="p">}</span>
</pre></table></code></div></div><div class="language-c highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="c1">// ipc_constant.h</span>

<span class="c1">// if 0 부분은 이전에 사용하던 코드</span>
<span class="c">#if 0
#define BIT_0  0x00000001
#define BIT_1  0x00000002
#define BIT_2  0x00000004
#define BIT_3  0x00000008
#define BIT_4  0x00000010
#define BIT_5  0x00000020
#define BIT_6  0x00000040
#define BIT_7  0x00000080
#define BIT_8  0x00000100

// else 부분은 새로 작성했지만, 오류가 발생한 코드
#else</span>
<span class="cp">#define BIT_0  (1ULL &lt;&lt; (0))
#define BIT_1  (1ULL &lt;&lt; (1))
#define BIT_2  (1ULL &lt;&lt; (2))
#define BIT_3  (1ULL &lt;&lt; (3))
#define BIT_4  (1ULL &lt;&lt; (4))
#define BIT_5  (1ULL &lt;&lt; (5))
#define BIT_6  (1ULL &lt;&lt; (6))
#define BIT_7  (1ULL &lt;&lt; (7))
#define BIT_8  (1ULL &lt;&lt; (8))
</span></pre></table></code></div></div><h1 id="문제-원인">문제 원인</h1><p>macro 재정의(redefine)를 할 때, 토큰의 내용이 같아야만 오류가 발생하지 않는다. GCC 기준으로 아래의 macro들은 모두 동일한 토큰으로 인식하기 때문에 오류가 발생하지 않는다.</p><div class="language-c highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="cp">#define FOUR (2 + 2)
#define FOUR         (2    +    2)
#define FOUR (2 </span><span class="cm">/* two */</span><span class="cp"> + 2)
</span></pre></table></code></div></div><p>컴파일러는 macro 값으로 할당된 공백, 주석은 무시한다.</p><blockquote><p>Whitespace appears in the same places in both. It need not be exactly the same amount of whitespace, though. Remember that comments count as whitespace.</p></blockquote><p><a href="https://gcc.gnu.org/onlinedocs/cpp/Undefining-and-Redefining-Macros.html"><strong>3.8 Undefining and Redefining Macros</strong></a></p><blockquote></blockquote><p>하지만 아래의 macro들은 전처리기가 다른 토큰으로 인식하기 때문에 오류가 발생한다.</p><div class="language-c highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="cp">#define FOUR (2 + 2)
#define FOUR ( 2+2 )
#define FOUR (2 * 2)
#define FOUR(score,and,seven,years,ago) (2 + 2)
</span></pre></table></code></div></div><blockquote><p><strong>If a macro is redefined with a definition that is not effectively the same as the old one, the preprocessor issues a warning and changes the macro to use the new definition.</strong> If the new definition is effectively the same, the redefinition is silently ignored. This allows, for instance, two different headers to define a common macro. The preprocessor will only complain if the definitions do not match.</p></blockquote><p><a href="https://gcc.gnu.org/onlinedocs/cpp/Undefining-and-Redefining-Macros.html"><strong>3.8 Undefining and Redefining Macros</strong></a></p><blockquote></blockquote><p>C표준(ISO/IEC 9899)에서도 아래와 같이 정의하고 있다. 동일한 이름으로 define이 된 경우, 할당된 값이 같아야만 재정의 될 수 있다고 설명한다.</p><blockquote><p><strong>An identifier currently defined as an object-like macro shall not be redefined by another <code class="language-plaintext highlighter-rouge">#define</code> preprocessing directive unless the second definition is an object-like macro definition and the two replacement lists are identical.</strong> Likewise, an identifier currently defined as a function-like macro shall not be redefined by another <code class="language-plaintext highlighter-rouge">#define</code> preprocessing directive unless the second definition is a function-like macro definition that has the same number and spelling of parameters, and the two replacement lists are identical.</p></blockquote><p><a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf"><strong>6.10.3 Macro replacement p2</strong></a></p><blockquote></blockquote><p><code class="language-plaintext highlighter-rouge">ipc_constant.h</code> 파일에 <code class="language-plaintext highlighter-rouge">BIT_0</code> 부터 <code class="language-plaintext highlighter-rouge">BIT_8</code> 가 기존에 32비트 환경에서 사용하기 위해 16진수 값으로 32비트를 선언했었고, <code class="language-plaintext highlighter-rouge">debug.c</code> 파일에도 동일한 이름과 동일한 값으로 매크로가 정의되어 있었다.</p><p>그리고 64비트 환경에서도 정상적으로 동작하기 위해 <code class="language-plaintext highlighter-rouge">(1ULL &lt;&lt; (N))</code> 과 같이 unsigned long long 자료형을 이용해서 값을 바꾸었다. 하지만 컴파일 시 아래와 같이 redefined 오류가 표시되며 컴파일이 실패한 것이다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>Compiling debug.c
debug.c:667:1: error: <span class="s2">"BIT_0"</span> redefined
In file included from include/sys_include.h:28,
                 from debug.c:27:
include/ipc_constant.h:690:1: error: this is the location of the previous definition
</pre></table></code></div></div><h1 id="문제-해결-방법">문제 해결 방법</h1><h2 id="1-헤더-파일에서만-매크로-정의하기">1. 헤더 파일에서만 매크로 정의하기</h2><p>헤더 파일에서만 매크로를 정의하는 것이 장기적인 유지보수 관점에서 좋다. 문제가 되었던 C 소스 코드의 매크로 상수는 누가 작성했는지 모르는 레거시 코드였는데, 어쩌다 현재까지 남아있는지는 아무도 모른다.</p><h2 id="2-ifndef-전처리-지시어-활용">2. #ifndef 전처리 지시어 활용</h2><p>또는 <code class="language-plaintext highlighter-rouge">#ifndef</code> 전처리 지시어를 사용하는 방법도 있다. <code class="language-plaintext highlighter-rouge">#ifndef</code> 를 사용하면 이전에 정의된 매크로가 있다면 다시 정의하지 않도록 막아준다. 간단한 예제는 아래와 같다.</p><div class="language-c highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span>
<span class="cp">#define BIT 123
</span>
<span class="cp">#ifndef BIT
#define BIT 456
#endif
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">BIT</span><span class="p">;</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>출력 결과는 아래와 같다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>123
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">#ifndef</code> 를 사용했기 때문에 <code class="language-plaintext highlighter-rouge">BIT</code> 매크로 상수가 재정의되지 않았고, 최종적으로 재정의를 시도했던 456이 아닌 123이 변수 <code class="language-plaintext highlighter-rouge">x</code>에 저장된 것을 확인할 수 있다.</p><h2 id="3-64비트와-32비트-자료형-비트-연산-문제-해결">3. 64비트와 32비트 자료형 비트 연산 문제 해결</h2><p>사실 macro redefined 문제는 64비트 자료형과 32비트 자료형 비트 연산을 하면서 생겼던 문제를 해결하기 위해 코드를 수정하는 과정에서 마주했던 것이다.</p><p>즉, 핵심 원인은 64비트와 32비트 자료형 간 비트 연산이었다. 이 부분은 내용이 길어져 별도 글에서 다루었다.</p><ul><li><a href="https://han-joon-hyeok.github.io/posts/c-bitwise-operation-between-different-integer-sizes/">[C언어] 자료형 크기 차이로 인한 비트 연산 오류 해결 방법</a></ul><h1 id="참고자료">참고자료</h1><ul><li>https://gcc.gnu.org/onlinedocs/cpp/Undefining-and-Redefining-Macros.html<li>https://stackoverflow.com/questions/60619149/can-i-redefine-a-macro-with-another-define-directive<li>https://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf<li>https://stackoverflow.com/questions/5272825/detecting-64bit-compile-in-c</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/c/'>c</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[C언어] 매크로 재정의 오류 원인과 해결 방법 (GCC 전처리기 기준) - Dev Joon&url=https://han-joon-hyeok.github.io/posts/gcc-macro-redefined-error-fix/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[C언어] 매크로 재정의 오류 원인과 해결 방법 (GCC 전처리기 기준) - Dev Joon&u=https://han-joon-hyeok.github.io/posts/gcc-macro-redefined-error-fix/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=[C언어] 매크로 재정의 오류 원인과 해결 방법 (GCC 전처리기 기준) - Dev Joon&url=https://han-joon-hyeok.github.io/posts/gcc-macro-redefined-error-fix/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/c-bitwise-operation-between-different-integer-sizes/">[C언어] 자료형 크기 차이로 인한 비트 연산 오류 해결 방법</a><li><a href="/posts/connect-to-ec2-without-ssh-key-using-session-manager/">[AWS] EC2 인스턴스 ssh 키 없이 터미널 접속하는 방법 (AWS Session Manager)</a><li><a href="/posts/how-to-access-geo-restricted-websites-using-mullvad-vpn/">국가 제한이 걸린 사이트에 접속하는 방법 (feat. Mullvad VPN)</a><li><a href="/posts/network-overview/">네트워크 LAN, WAN / 스위치, 라우터 / IP 주소 / 서브넷 개념 정리</a><li><a href="/posts/what-is-nat/">NAT란?</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/level2/">level2</a> <a class="post-tag" href="/tags/level1/">level1</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/pipex/">pipex</a> <a class="post-tag" href="/tags/born2beroot/">born2beroot</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/data-structure/">Data Structure</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/c-language-struct-pointer-data-type-casting/"><div class="card-body"> <span class="timeago small" > Aug 6 <i class="unloaded">2025-08-06T16:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>C언어 서로 다른 구조체 포인터 캐스팅의 원리</h3><div class="text-muted small"><p> 개요 C언어에서 서로 다른 구조체 포인터를 캐스팅할 때의 작동 원리를 정리한다. 이를 통해 C에서도 구조체 레이아웃을 이용해 객체 지향 언어의 ‘업캐스팅’과 유사한 동작을 구현할 수 있음을 확인할 수 있다. 분석 대상 코드 구조체 정의 서로 다른 멤버를 가진 구조체가 있다고 하자. typedef struct parent_s { str...</p></div></div></a></div><div class="card"> <a href="/posts/static-variable-in-c/"><div class="card-body"> <span class="timeago small" > Jun 14, 2022 <i class="unloaded">2022-06-14T16:09:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>정적 변수(static variable)란?</h3><div class="text-muted small"><p> 정적 변수(static variable) 정적 변수는 프로그램이 실행되는 동안 계속 유지되는 변수이다. 지역 변수는 함수가 실행되는 동안 해당 스코프 안에서만 생성되고, 함수가 끝나면 파괴되는데, 이와 달리 정적 변수는 함수가 끝나도 값이 그대로 유지된다. 정적 변수를 선언하는 방법은 다음과 같다. static 자료형 변수명; 정적 변수의 ...</p></div></div></a></div><div class="card"> <a href="/posts/printf-format-specifiers-with-width-and-precision/"><div class="card-body"> <span class="timeago small" > Aug 10, 2022 <i class="unloaded">2022-08-10T21:50:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[C언어] printf 서식 지정자와 정밀도, width 탐구</h3><div class="text-muted small"><p> 들어가며 C언어의 printf 함수는 다양한 서식 지정자와 함께 여러 옵션을 함께 사용해서 데이터를 원하는 대로 출력할 수 있다. 이 글은 서식 지정자에 대한 설명보다는 정밀도와 width를 서식 지정자와 활용했을 때 어떤 결과가 나오는 지 다양한 케이스를 바탕으로 정리하였다. 서식 지정자를 모두 살펴볼 수는 없기에 여기서는 %s(문자열), %d...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/google-calendar-organization-tips/" class="btn btn-outline-primary" prompt="Older"><p>생각 많은 ISTJ 개발자가 구글 캘린더를 활용하는 방법</p></a> <a href="/posts/c-bitwise-operation-between-different-integer-sizes/" class="btn btn-outline-primary" prompt="Newer"><p>[C언어] 자료형 크기 차이로 인한 비트 연산 오류 해결 방법</p></a></div><script src="https://utteranc.es/client.js" repo="Han-Joon-Hyeok/Han-Joon-Hyeok.github.io" issue-term="pathname" label="Comments" theme="preferred-color-scheme" crossorigin="anonymous" async> </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/han-joon-hyeok">Joon Hyeok Han</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/level2/">level2</a> <a class="post-tag" href="/tags/level1/">level1</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/pipex/">pipex</a> <a class="post-tag" href="/tags/born2beroot/">born2beroot</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/data-structure/">Data Structure</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://han-joon-hyeok.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
