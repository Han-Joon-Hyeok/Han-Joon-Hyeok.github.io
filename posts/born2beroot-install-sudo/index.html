<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.3.0" /><meta property="og:title" content="[Born2beroot] 2. sudo 설치" /><meta name="author" content="Joon Hyeok Han" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="sudo 설치" /><meta property="og:description" content="sudo 설치" /><link rel="canonical" href="https://han-joon-hyeok.github.io/posts/born2beroot-install-sudo/" /><meta property="og:url" content="https://han-joon-hyeok.github.io/posts/born2beroot-install-sudo/" /><meta property="og:site_name" content="Dev Joon" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-09-03T23:20:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[Born2beroot] 2. sudo 설치" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@Joon Hyeok Han" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Joon Hyeok Han"},"dateModified":"2023-11-02T00:06:02+09:00","datePublished":"2022-09-03T23:20:00+09:00","description":"sudo 설치","headline":"[Born2beroot] 2. sudo 설치","mainEntityOfPage":{"@type":"WebPage","@id":"https://han-joon-hyeok.github.io/posts/born2beroot-install-sudo/"},"url":"https://han-joon-hyeok.github.io/posts/born2beroot-install-sudo/"}</script><title>[Born2beroot] 2. sudo 설치 | Dev Joon</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-SKST7KNWSJ"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-SKST7KNWSJ'); }); </script> <script type="text/x-mathjax-config"> MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}}); </script> <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"> </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/profile.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Dev Joon</a></div><div class="site-subtitle font-italic">성장하는 개발자, 한준혁입니다.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/Han-Joon-Hyeok" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['joonhyeok.han','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>[Born2beroot] 2. sudo 설치</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[Born2beroot] 2. sudo 설치</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Sep 3, 2022, 11:20 PM +0900" > Sep 3, 2022 <i class="unloaded">2022-09-03T23:20:00+09:00</i> </span> by <span class="author"> Joon Hyeok Han </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Thu, Nov 2, 2023, 12:06 AM +0900" > Nov 2, 2023 <i class="unloaded">2023-11-02T00:06:02+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1809 words">10 min</span></div></div><div class="post-content"><h1 id="sudo-설치">sudo 설치</h1><p>CentOS 는 sudo 가 기본적으로 내장되어 있지만, 데비안은 그렇지 않기 때문에 sudo 를 별도로 설치해야 한다.</p><h2 id="sudo-란">sudo 란?</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2022/2022-09-03-born2beroot-install-sudo/sudo.png" alt="sudo" /></p><p>출처: <a href="https://xkcd.com/149/">xkcd</a></p><p>리눅스 운영체제에서 최고 관리자 권한으로 실행하는 프로그램이다.</p><p>sudo 는 super user do(최고 권한 실행) 또는 substitute user do(다른 사용자의 권한으로 실행)의 줄임말로 쓰인다.</p><p>각종 명령어 맨 앞에 <code class="language-plaintext highlighter-rouge">sudo</code> 를 붙이면 그 명령어는 <code class="language-plaintext highlighter-rouge">root</code> 권한, 즉 최고 관리자 권한으로 실행된다.</p><p><code class="language-plaintext highlighter-rouge">sudo</code> 명령어는 <code class="language-plaintext highlighter-rouge">/etc/sudoer</code> 설정 파일에 명시된 사용자만 사용 가능하다. 이를 수정하기 위해서는 <code class="language-plaintext highlighter-rouge">visudo</code> 명령어를 사용해야 한다.</p><ul><li><code class="language-plaintext highlighter-rouge">visudo</code> : vim 과 비슷한 텍스트 편집기지만, <code class="language-plaintext highlighter-rouge">/etc/sudoer</code> 파일의 문법 오류를 미리 발견하는 기능이 있다. 이를 통해 프로그램이 오작동하지 않도록 방지한다.</ul><h2 id="설치-과정">설치 과정</h2><ol><li><p><code class="language-plaintext highlighter-rouge">su -l</code> 명령어를 입력해서 root 계정으로 이동한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2022/2022-09-03-born2beroot-install-sudo/1.png" alt="1" /></p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 문법</span>
su <span class="o">[</span>options] <span class="o">[</span>-] <span class="o">[</span>user <span class="o">[</span>argument...]]
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">su</code> 는 <code class="language-plaintext highlighter-rouge">substitute user</code> 의 약자이다.<li>현재 접속한 사용자를 로그아웃 하지 않고, 다른 사용자의 권한을 획득할 때 사용한다.<li><code class="language-plaintext highlighter-rouge">-l</code> 옵션은 <code class="language-plaintext highlighter-rouge">--login</code> 옵션과 동일하다.<li><code class="language-plaintext highlighter-rouge">user</code> 항목에 빈 칸으로 두면 <code class="language-plaintext highlighter-rouge">root</code> 계정의 권한을 획득한다.<li>만약, 다른 유저의 권한을 획득하고 싶다면 <code class="language-plaintext highlighter-rouge">su -l userID</code> 를 입력하면 된다.</ul><li><p><code class="language-plaintext highlighter-rouge">dpkg -l sudo</code> 를 입력해서 <code class="language-plaintext highlighter-rouge">sudo</code> 가 설치되었는지 확인</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2022/2022-09-03-born2beroot-install-sudo/2.png" alt="2" /></p><ul><li><code class="language-plaintext highlighter-rouge">dpkg</code> 는 데비안 패키지 관리하는 프로그램이다. <code class="language-plaintext highlighter-rouge">.deb</code> 패키지의 설치, 삭제, 정보 제공을 위해 사용한다.</ul><li><p>설치되어 있지 않으면 <code class="language-plaintext highlighter-rouge">apt install sudo</code> 를 입력한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2022/2022-09-03-born2beroot-install-sudo/3.png" alt="3" /></p><ul><li><code class="language-plaintext highlighter-rouge">apt</code> 는 advanced packaging tool 의 약자로 데비안 계열에서 소프트웨어를 설치하고 제거하는 작업을 관리한다.<li><code class="language-plaintext highlighter-rouge">apt</code> 는 기능별로 <code class="language-plaintext highlighter-rouge">apt</code>, <code class="language-plaintext highlighter-rouge">apt-get</code>, <code class="language-plaintext highlighter-rouge">apt-cache</code>, <code class="language-plaintext highlighter-rouge">apt-key</code> 등으로 명령어가 나누어져 있다.<li><code class="language-plaintext highlighter-rouge">apt</code> 와 <code class="language-plaintext highlighter-rouge">apt-get</code> 은 기능상으로 큰 차이는 없다.<li>참고로 <code class="language-plaintext highlighter-rouge">aptitude</code> 는 <code class="language-plaintext highlighter-rouge">apt</code> 의 기능들을 포괄적으로 포함하는 상위 레벨 패키지 매니저이다. 주요 패키지 작업 과정을 자동화해서 쉽게 작업을 진행할 수 있다. 즉, 사용자 입장에서는 <code class="language-plaintext highlighter-rouge">apt</code> 보다 <code class="language-plaintext highlighter-rouge">aptitude</code> 를 조금 더 쉽게 사용할 수 있다. 기능적으로 큰 차이는 없지만, 편리함에 있어선 <code class="language-plaintext highlighter-rouge">aptitude</code> 가 우수하다.</ul></ol><h2 id="sudoer-설정">sudoer 설정</h2><p><code class="language-plaintext highlighter-rouge">sudo</code> 사용 시 비밀번호 정책이나 로그 기록 여부 등을 설정하는 방법은 다음과 같다.</p><ol><li><p><code class="language-plaintext highlighter-rouge">visudo</code> 를 입력하면 아래와 같이 sudoers 파일을 수정하는 텍스트 편집기로 진입한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2022/2022-09-03-born2beroot-install-sudo/4.png" alt="4" /></p><li><p><code class="language-plaintext highlighter-rouge">secure_path</code> 를 아래와 같이 수정한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2022/2022-09-03-born2beroot-install-sudo/5.png" alt="5" /></p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin
</pre></table></code></div></div><ul><li>sudo 는 권한이 강력하기 때문에 보안상의 이유로 <code class="language-plaintext highlighter-rouge">secure_path</code> 기능을 제공하고 있다.<li><code class="language-plaintext highlighter-rouge">secure_path</code> 는 sudo 명령을 실행할 때 사용하는 가상 쉘의 경로를 설정하는 것이다.<li>sudo 명령을 실행할 때 현재 계정의 쉘이 아닌 새로운 쉘을 생성하고 그 안에서 명령을 실행하는데, 이때 명령을 찾을 경로를 나열한 환경변수인 PATH 값이 <code class="language-plaintext highlighter-rouge">secure_path</code> 가 된다.<li>즉, sudo 명령을 통해 실행하는 명령은 제 3의 쉘 환경에서 샌드박스 형태로 실행된다.<li>이 기능이 중요한 이유는 트로이목마 해킹 공격에 대한 1차적인 방어 기능을 제공하기 때문이다. 만약, 현재 계정의 PATH 에 악의적인 경로가 포함된 경우, <code class="language-plaintext highlighter-rouge">secure_path</code> 를 설정하면 이를 무시함으로써 sudo 를 통해 전체 시스템이 해킹되는 경우를 방지할 수 있다.</ul><li><p><code class="language-plaintext highlighter-rouge">Defaults</code> 항목들을 다음과 같이 추가한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2022/2022-09-03-born2beroot-install-sudo/6.png" alt="6" /></p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>Defaults	<span class="nv">authfail_message</span><span class="o">=</span><span class="s2">"%d incorrect password attempts"</span>
Defaults	<span class="nv">badpass_message</span><span class="o">=</span><span class="s2">"Incorrect password"</span>
Defaults	log_input
Defaults	log_output
Defaults	requiretty
Defaults	<span class="nv">iolog_dir</span><span class="o">=</span><span class="s2">"/var/log/sudo/"</span>
Defaults	<span class="nv">passwd_tries</span><span class="o">=</span>3
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">authfail_message</code> : 인증에 실패하면 표시하는 메세지. <code class="language-plaintext highlighter-rouge">%d</code> 를 입력하면 로그인 실패한 횟수도 같이 표시할 수 있다.<li><code class="language-plaintext highlighter-rouge">badpass_message</code> : 잘못된 비밀번호를 입력할 경우 표시할 메세지.<li><code class="language-plaintext highlighter-rouge">log_input</code> : sudo 를 이용해서 입력한 명령어를 로그 파일로 저장한다.<li><code class="language-plaintext highlighter-rouge">log_output</code> : sudo 를 이용해서 실행한 명령어의 실행 결과를 로그 파일로 저장한다.<li><code class="language-plaintext highlighter-rouge">requiretty</code> : 사용자가 실제 tty 로 로그인한 경우에만 sudo 를 실행하는 설정이다. 예컨대, batch 파일이나 cron 에 작성된 스크립트를 실행하는 경우에는 작동하지 않는 것이다. (참고자료 : <a href="https://www.notion.so/tty-04457e7bb65f46ce899be9d623310a34">tty란?</a>)<li><code class="language-plaintext highlighter-rouge">iolog_dir</code> : log 가 기록될 위치를 설정한다.<li><code class="language-plaintext highlighter-rouge">passwd_tries</code> : 비밀번호 입력 시도 최대 회수를 설정한다.</ul><li><p><code class="language-plaintext highlighter-rouge">control + x</code> → <code class="language-plaintext highlighter-rouge">Y</code> → <code class="language-plaintext highlighter-rouge">/etc/sudoers</code> 를 입력하여 파일을 저장한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2022/2022-09-03-born2beroot-install-sudo/7.png" alt="7" /></p><li><p><code class="language-plaintext highlighter-rouge">exit</code> 명령어를 입력해서 root 계정을 로그아웃한다. 정상적으로 설정되었는지 확인하기 위해 sudo 를 이용한 임의의 명령어를 입력하고 비밀번호를 틀리게 입력하면 다음과 같이 <code class="language-plaintext highlighter-rouge">/etc/sudoer</code> 파일에 설정한 대로 출력된다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2022/2022-09-03-born2beroot-install-sudo/8.png" alt="8" /></p><li><p>사용자에게 sudo 사용 권한을 주기 위해 다시 root 계정으로 로그인해서 <code class="language-plaintext highlighter-rouge">visudo</code> 를 실행시켜서 다음의 항목을 추가한다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="o">[</span>사용자명]	<span class="nv">ALL</span><span class="o">=(</span>ALL:ALL<span class="o">)</span> ALL
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2022/2022-09-03-born2beroot-install-sudo/9.png" alt="9" /></p></ol><h2 id="sudo-그룹-설정">sudo 그룹 설정</h2><ol><li><p><code class="language-plaintext highlighter-rouge">groupadd</code> 명령어를 사용해서 그룹을 추가한다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>groupadd user42
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2022/2022-09-03-born2beroot-install-sudo/10.png" alt="10" /></p><li><p>사용자를 그룹에 추가하기 위해 <code class="language-plaintext highlighter-rouge">usermod</code> 명령어를 사용한다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 유저를 그룹에 추가</span>
usermod <span class="nt">-aG</span> <span class="o">[</span>그룹명[, ...]] <span class="o">[</span>사용자명]
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">usermod</code> 는 root 계정만 사용 가능하며, 존재하는 사용자에 대해서만 처리할 수 있다.<li>그룹을 여러 개 추가하고자 할 때는 콤마(<code class="language-plaintext highlighter-rouge">,</code>)로 구분한다.<li><code class="language-plaintext highlighter-rouge">-a</code> 옵션은 <code class="language-plaintext highlighter-rouge">-G</code> 옵션과 함께 사용한다.</ul><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>usermod <span class="nt">-aG</span> user42,sudo joonhan
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/2022/2022-09-03-born2beroot-install-sudo/11.png" alt="11" /></p><ul><li><code class="language-plaintext highlighter-rouge">id 사용자명</code> 명령어를 입력하면 해당 사용자가 속한 그룹을 표시해준다. sudo 와 user42 그룹에 정상적으로 속한 것을 확인할 수 있다.</ul></ol><h1 id="참고자료">참고자료</h1><ul><li><a href="https://namu.wiki/w/sudo">sudo</a> [나무위키]<li><a href="https://miiingo.tistory.com/183">[Ubuntu] dpkg 명령어 사용법</a> [티스토리]<li><a href="https://ko.wikipedia.org/wiki/%EC%96%B4%EB%93%9C%EB%B0%B4%EC%8A%A4%ED%8A%B8_%ED%8C%A8%ED%82%A4%EC%A7%95_%ED%88%B4">APT</a> [위키백과]<li><a href="http://tpholic.com/xe/5102649">리눅스(우분투 위주) 시스템 강좌 2장. -패키지 및 패키지 툴</a> [tpholic]<li><a href="https://www.tuwlab.com/ece/24044">[Linux] Sudo 명령의 Secure Path</a> [tuwlab]<li><a href="https://www.sudo.ws/docs/man/1.8.27/sudoers.man/">Sudoer Manual</a> [sudo]<li><a href="https://unix.stackexchange.com/questions/651408/why-is-requiretty-not-working">Why is “requiretty” not working?</a> [stack exchange]<li><a href="https://jhnyang.tistory.com/259">[리눅스/유닉스] 사용자관리 usermod 명령어, 사용자 아이디 변경, 임시 계정 발급, usermod 옵션, 사용 예시</a> [티스토리]<li><a href="https://starseeker711.tistory.com/176">우분투 리눅스 - sudo 명령어에서 root 권한이 없을 때 ( … is not in the sudoers file. This incident will be reported.)</a> [티스토리]</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/42seoul/'>42seoul</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/born2beroot/" class="post-tag no-text-decoration">born2beroot</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[Born2beroot] 2. sudo 설치 - Dev Joon&url=https://han-joon-hyeok.github.io/posts/born2beroot-install-sudo/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[Born2beroot] 2. sudo 설치 - Dev Joon&u=https://han-joon-hyeok.github.io/posts/born2beroot-install-sudo/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=[Born2beroot] 2. sudo 설치 - Dev Joon&url=https://han-joon-hyeok.github.io/posts/born2beroot-install-sudo/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/c-bitwise-operation-between-different-integer-sizes/">[C언어] 자료형 크기 차이로 인한 비트 연산 오류 해결 방법</a><li><a href="/posts/connect-to-ec2-without-ssh-key-using-session-manager/">[AWS] EC2 인스턴스 ssh 키 없이 터미널 접속하는 방법 (AWS Session Manager)</a><li><a href="/posts/how-to-access-geo-restricted-websites-using-mullvad-vpn/">국가 제한이 걸린 사이트에 접속하는 방법 (feat. Mullvad VPN)</a><li><a href="/posts/network-overview/">네트워크 LAN, WAN / 스위치, 라우터 / IP 주소 / 서브넷 개념 정리</a><li><a href="/posts/what-is-nat/">NAT란?</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/level2/">level2</a> <a class="post-tag" href="/tags/level1/">level1</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/pipex/">pipex</a> <a class="post-tag" href="/tags/born2beroot/">born2beroot</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/data-structure/">Data Structure</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/born2beroot-install-virtual-machine/"><div class="card-body"> <span class="timeago small" > Aug 17, 2022 <i class="unloaded">2022-08-17T17:20:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Born2beroot] 1. 가상 머신 및 데비안 설치</h3><div class="text-muted small"><p> 과제 소개 Born2beroot 과제는 가상 머신에 운영체제를 설치하고, 여러 사용자가 운영체제를 이용할 수 있도록 기본 환경 설정을 하는 것이 목표이다. 파티션 설정, 비밀번호 정책, 방화벽 설정, SSH 연결, 운영체제 등을 배우게 된다. 추가로 보너스 과제를 수행한다면 워드 프레스를 설치하기 위해 웹 서버, WAS, DB 까지 가볍게 짚어볼 수...</p></div></div></a></div><div class="card"> <a href="/posts/born2beroot-install-apparmor/"><div class="card-body"> <span class="timeago small" > Sep 4, 2022 <i class="unloaded">2022-09-04T22:20:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Born2beroot] 3. AppArmor 설치</h3><div class="text-muted small"><p> AppArmor 설치 AppArmor 는 데비안 운영체제 설치와 함께 설치된다. 해당 패키지가 설치되었는지 확인하기 위해서는 다음의 명령어를 사용한다. 1 2 sudo dpkg -l apparmor sudo dpkg -l apparmor-utils 만약 설치되지 않았다면 다음과 같이 Version 와 Architecture 항목이 &lt;no...</p></div></div></a></div><div class="card"> <a href="/posts/born2beroot-install-ufw/"><div class="card-body"> <span class="timeago small" > Sep 4, 2022 <i class="unloaded">2022-09-04T22:20:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Born2beroot] 4. UFW 설치 및 설정</h3><div class="text-muted small"><p> 방화벽이란? 방화벽은 컴퓨터의 보안을 위해 미리 정의된 규칙에 기반하여 들어오고 나가는 네트워크 트래픽을 모니터링하고 제어하는 네트워크 보안 시스템이다. 내부에서 외부의 정보 통신망에 접근하거나 외부에서 내부로 불법적으로 접근하는 움직임을 차단한다. 현실에서 방화벽은 건물에서 화재가 더 이상 번지는 것을 막기 위해 존재한다. 이러한 의미를 컴퓨터에...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/born2beroot-install-virtual-machine/" class="btn btn-outline-primary" prompt="Older"><p>[Born2beroot] 1. 가상 머신 및 데비안 설치</p></a> <a href="/posts/born2beroot-install-apparmor/" class="btn btn-outline-primary" prompt="Newer"><p>[Born2beroot] 3. AppArmor 설치</p></a></div><script src="https://utteranc.es/client.js" repo="Han-Joon-Hyeok/Han-Joon-Hyeok.github.io" issue-term="pathname" label="Comments" theme="preferred-color-scheme" crossorigin="anonymous" async> </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/han-joon-hyeok">Joon Hyeok Han</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/level2/">level2</a> <a class="post-tag" href="/tags/level1/">level1</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/pipex/">pipex</a> <a class="post-tag" href="/tags/born2beroot/">born2beroot</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/data-structure/">Data Structure</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://han-joon-hyeok.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
